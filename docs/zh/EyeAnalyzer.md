# EyeAnalyzeræ¨¡å—æŠ€æœ¯æ–‡æ¡£

ğŸŒ **Languages**: [ä¸­æ–‡](EyeAnalyzer.md) | [English](../en/modules/EyeAnalyzer.md)

**çº§åˆ«**ï¼šPythonåˆ†æç»„ä»¶  
**ç±»å**ï¼š`EyeAnalyzer`  
**å½“å‰ç‰ˆæœ¬**ï¼šv1.0 (2026-01-23)  
**çŠ¶æ€**ï¼šç”Ÿäº§å°±ç»ª

---

## 1. æ¦‚è¿°

### 1.1 è®¾è®¡åŸç†

EyeAnalyzeræ˜¯SerDesé“¾è·¯ä»¿çœŸç³»ç»Ÿçš„Pythonåå¤„ç†ç»„ä»¶ï¼ŒåŸºäºç»Ÿè®¡ä¿¡å·å¤„ç†ç†è®ºï¼Œå¯¹SystemC-AMSç”Ÿæˆçš„æ³¢å½¢æ•°æ®è¿›è¡Œçœ¼å›¾æ„å»ºä¸æŠ–åŠ¨åˆ†è§£ã€‚å…¶æ ¸å¿ƒè®¾è®¡æ€æƒ³æ˜¯å°†æ—¶åŸŸæ³¢å½¢è½¬æ¢ä¸ºç›¸ä½-å¹…åº¦äºŒç»´æ¦‚ç‡å¯†åº¦åˆ†å¸ƒï¼Œé€šè¿‡å¯†åº¦çŸ©é˜µæå–çœ¼å›¾å‡ ä½•å‚æ•°ï¼Œå¹¶é‡‡ç”¨åŒç‹„æ‹‰å…‹æ¨¡å‹åˆ†ç¦»éšæœºæŠ–åŠ¨ä¸ç¡®å®šæ€§æŠ–åŠ¨æˆåˆ†ã€‚

è¯¥æ¨¡å—é‡‡ç”¨æ¨¡å—åŒ–æµæ°´çº¿æ¶æ„ï¼Œæ”¯æŒæ–‡ä»¶å’Œå†…å­˜ä¸¤ç§æ•°æ®è¾“å…¥æ¨¡å¼ï¼Œæä¾›ä¸°å¯Œçš„é…ç½®å‚æ•°ä»¥é€‚åº”ä¸åŒé“¾è·¯é€Ÿç‡å’Œä¿¡å·è´¨é‡åœºæ™¯ã€‚è®¾è®¡ç›®æ ‡æ˜¯åœ¨ä¿è¯åˆ†æç²¾åº¦çš„å‰æä¸‹ï¼Œå®ç°é«˜æ€§èƒ½çš„æ‰¹é‡å¤„ç†èƒ½åŠ›ã€‚

### 1.2 æ ¸å¿ƒç‰¹æ€§

- **å¤šç»´åº¦çœ¼å›¾åˆ†æ**ï¼šæ”¯æŒçœ¼é«˜ã€çœ¼å®½ã€å¼€å£é¢ç§¯ã€çº¿æ€§åº¦è¯¯å·®ç­‰å‡ ä½•å‚æ•°æå–
- **æŠ–åŠ¨åˆ†è§£å¼•æ“**ï¼šåŸºäºåŒç‹„æ‹‰å…‹æ¨¡å‹å®ç°RJ/DJ/TJ@BERç²¾ç¡®åˆ†è§£
- **çµæ´»é‡‡æ ·ç­–ç•¥**ï¼šæ”¯æŒå³°å€¼é‡‡æ ·ã€è¿‡é›¶é‡‡æ ·ã€ç›¸ä½é”å®šä¸‰ç§ç›¸ä½ä¼°è®¡æ–¹æ³•
- **é«˜æ€§èƒ½è®¡ç®—**ï¼šåŸºäºNumPyå‘é‡åŒ–æ“ä½œï¼Œæ”¯æŒåƒä¸‡çº§UIæ•°æ®é›†åˆ†æ
- **å¤šæ ¼å¼è¾“å‡º**ï¼šç”ŸæˆJSONæŒ‡æ ‡ã€PNG/SVGçœ¼å›¾ã€CSVè¾…åŠ©æ•°æ®
- **é²æ£’æ€§è®¾è®¡**ï¼šå®Œå–„çš„è¾¹ç•Œæ¡ä»¶å¤„ç†å’Œé”™è¯¯è¯Šæ–­æœºåˆ¶
- **æµ‹è¯•é©±åŠ¨**ï¼šå†…ç½®6å¤§æµ‹è¯•åœºæ™¯ï¼Œæ”¯æŒå›å½’éªŒè¯å’Œæ€§èƒ½åŸºå‡†æµ‹è¯•

### 1.3 ç‰ˆæœ¬å†å²

| ç‰ˆæœ¬ | æ—¥æœŸ | ä¸»è¦å˜æ›´ |
|------|------|----------|
| v1.0 | 2026-01-23 | åˆå§‹ç‰ˆæœ¬ï¼Œå®Œæ•´çœ¼å›¾åˆ†æä¸æŠ–åŠ¨åˆ†è§£åŠŸèƒ½ |

## 2. æ¨¡å—æ¥å£

### 2.1 ç«¯å£å®šä¹‰ï¼ˆPythonæ¥å£ï¼‰

EyeAnalyzerä½œä¸ºPythonåˆ†æç»„ä»¶ï¼Œå…¶"ç«¯å£"å¯¹åº”äºå‡½æ•°è¾“å…¥/è¾“å‡ºæ¥å£ï¼Œæ”¯æŒæ–‡ä»¶å’Œå†…å­˜ä¸¤ç§æ•°æ®äº¤äº’æ¨¡å¼ã€‚

| ç«¯å£å | æ–¹å‘ | ç±»å‹ | è¯´æ˜ |
|-------|------|------|------|
| `dat_path` | è¾“å…¥ | str | æ³¢å½¢æ•°æ®æ–‡ä»¶è·¯å¾„ï¼ˆSystemC-AMSè¾“å‡ºçš„tabularæ ¼å¼ï¼‰ |
| `waveform_array` | è¾“å…¥ | numpy.ndarray | å†…å­˜æ³¢å½¢æ•°ç»„ï¼ˆæ›¿ä»£æ–‡ä»¶è¾“å…¥ï¼‰ï¼Œshape: (N, 2)ï¼Œåˆ—ï¼štime, value |
| `ui` | è¾“å…¥ | float | å•ä½é—´éš”ï¼ˆUIï¼Œç§’ï¼‰ï¼Œç”¨äºç›¸ä½å½’ä¸€åŒ– |
| `clk_params` | è¾“å…¥ | dict | æ—¶é’Ÿå‚æ•°ï¼ˆå¯é€‰ï¼‰ï¼ŒåŒ…å«é‡‡æ ·ç›¸ä½ä¼°è®¡æ–¹æ³•ç­‰ |
| `metrics_json` | è¾“å‡º | str | çœ¼å›¾æŒ‡æ ‡JSONæ–‡ä»¶è·¯å¾„ï¼ˆé»˜è®¤ï¼š`eye_metrics.json`ï¼‰ |
| `eye_image` | è¾“å‡º | str | çœ¼å›¾å¯è§†åŒ–å›¾åƒæ–‡ä»¶è·¯å¾„ï¼ˆPNG/SVGæ ¼å¼ï¼‰ |
| `csv_data` | è¾“å‡º | str | è¾…åŠ©åˆ†ææ•°æ®CSVæ–‡ä»¶è·¯å¾„ï¼ˆPSD/PDF/äºŒç»´å¯†åº¦ï¼‰ |

> **é‡è¦**ï¼š`dat_path`å’Œ`waveform_array`ä¸ºäº’æ–¥è¾“å…¥ï¼Œå¿…é¡»ä¸”åªèƒ½æä¾›å…¶ä¸­ä¸€ä¸ªï¼›æ‰€æœ‰è¾“å‡ºæ–‡ä»¶è·¯å¾„å‡å¯é€šè¿‡å‚æ•°é…ç½®è‡ªå®šä¹‰ã€‚

### 2.2 å‚æ•°é…ç½®

#### åŸºæœ¬å‚æ•°

| å‚æ•°å | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
|-------|------|--------|------|
| `ui_bins` | integer | 128 | çœ¼å›¾æ°´å¹³æ–¹å‘ï¼ˆæ—¶é—´è½´ï¼‰åˆ†è¾¨ç‡ï¼Œå³å•ä½é—´éš”å†…çš„ç›´æ–¹å›¾binæ•°é‡ |
| `amp_bins` | integer | 128 | çœ¼å›¾å‚ç›´æ–¹å‘ï¼ˆå¹…åº¦è½´ï¼‰åˆ†è¾¨ç‡ï¼Œå³å¹…åº¦èŒƒå›´çš„ç›´æ–¹å›¾binæ•°é‡ |
| `measure_length` | double | 1e-4 | ç»Ÿè®¡æ—¶é•¿ï¼ˆç§’ï¼‰ï¼Œç”¨äºæˆªå–æ³¢å½¢æ•°æ®çš„åæ®µè¿›è¡Œçœ¼å›¾åˆ†æï¼Œç¡®ä¿æ•°æ®ç¨³å®šæ€§ |
| `target_ber` | double | 1e-12 | ç›®æ ‡è¯¯ç ç‡ï¼Œç”¨äºè®¡ç®—TJ@BERï¼ˆTotal Jitter at Target BERï¼‰ |
| `ui` | double | **å¿…é¡»** | å•ä½é—´éš”ï¼ˆç§’ï¼‰ï¼Œç”±é“¾è·¯é€Ÿç‡å†³å®šï¼ˆå¦‚10Gbpså¯¹åº”2.5e-11sï¼‰ |
| `sampling` | string | 'phase-lock' | é‡‡æ ·ç›¸ä½ä¼°è®¡ç­–ç•¥ï¼š'peak'ï¼ˆå³°å€¼é‡‡æ ·ï¼‰ã€'zero-cross'ï¼ˆè¿‡é›¶é‡‡æ ·ï¼‰ã€'phase-lock'ï¼ˆç›¸ä½é”å®šï¼‰ |

#### é«˜çº§å‚æ•°

| å‚æ•°å | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
|-------|------|--------|------|
| `hist2d_normalize` | boolean | true | äºŒç»´ç›´æ–¹å›¾æ˜¯å¦å½’ä¸€åŒ–ä¸ºæ¦‚ç‡å¯†åº¦ï¼ˆPDFï¼‰ |
| `psd_nperseg` | integer | 16384 | PSDè®¡ç®—æ—¶çš„æ¯æ®µæ ·æœ¬æ•°ï¼ˆå½±å“é¢‘ç‡åˆ†è¾¨ç‡ï¼‰ |
| `jitter_extract_method` | string | 'dual-dirac' | æŠ–åŠ¨åˆ†è§£æ–¹æ³•ï¼š'dual-dirac'ï¼ˆåŒç‹„æ‹‰å…‹æ¨¡å‹ï¼‰ã€'tail-fit'ï¼ˆå°¾éƒ¨æ‹Ÿåˆï¼‰ |
| `linearity_threshold` | double | 0.1 | çº¿æ€§åº¦è¯¯å·®è®¡ç®—æ—¶çš„å¹…åº¦é˜ˆå€¼ï¼ˆä»…åˆ†æçœ¼å›¾å¼€å£åŒºåŸŸï¼‰ |

#### è¾“å‡ºæ§åˆ¶å‚æ•°

| å‚æ•°å | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
|-------|------|--------|------|
| `output_image_format` | string | 'png' | è¾“å‡ºå›¾åƒæ ¼å¼ï¼š'png'ã€'svg'ã€'pdf' |
| `output_image_dpi` | integer | 300 | å›¾åƒåˆ†è¾¨ç‡ï¼ˆDPIï¼‰ |
| `save_csv_data` | boolean | false | æ˜¯å¦ä¿å­˜è¾…åŠ©åˆ†ææ•°æ®ï¼ˆPSDã€PDFã€äºŒç»´å¯†åº¦çŸ©é˜µï¼‰ |
| `csv_data_path` | string | 'eye_analysis_data' | CSVæ•°æ®è¾“å‡ºç›®å½•è·¯å¾„ |

## 3. æ ¸å¿ƒå®ç°æœºåˆ¶

### 3.1 ä¿¡å·å¤„ç†æµç¨‹

EyeAnalyzer é‡‡ç”¨å¤šé˜¶æ®µæµæ°´çº¿å¤„ç†æ¶æ„ï¼Œä»åŸå§‹æ³¢å½¢æ•°æ®åˆ°çœ¼å›¾æŒ‡æ ‡å’ŒæŠ–åŠ¨åˆ†è§£ç»“æœçš„å®Œæ•´å¤„ç†æµç¨‹å¦‚ä¸‹ï¼š

```
æ•°æ®åŠ è½½ â†’ æ³¢å½¢æˆªå– â†’ ç›¸ä½ä¼°è®¡ â†’ ç›¸ä½å½’ä¸€åŒ– â†’ äºŒç»´ç›´æ–¹å›¾æ„å»º â†’ çœ¼å›¾æŒ‡æ ‡æå– â†’ æŠ–åŠ¨åˆ†è§£ â†’ ç»“æœè¾“å‡º
```

**æ­¥éª¤1-æ•°æ®åŠ è½½**ï¼šä» `dat_path` æŒ‡å®šçš„ SystemC-AMS tabular æ ¼å¼æ–‡ä»¶æˆ– `waveform_array` å†…å­˜æ•°ç»„ä¸­è¯»å–æ³¢å½¢æ•°æ®ã€‚è¾“å…¥æ•°æ®å¿…é¡»åŒ…å«ä¸¤åˆ—ï¼šæ—¶é—´ï¼ˆç§’ï¼‰å’Œä¿¡å·å¹…åº¦ï¼ˆä¼ç‰¹ï¼‰ã€‚è‹¥æä¾›æ—¶é’Ÿå‚æ•°ï¼Œåˆ™è¿›å…¥ç›¸ä½é”å®šæ¨¡å¼ã€‚

**æ­¥éª¤2-æ³¢å½¢æˆªå–**ï¼šæ ¹æ® `measure_length` å‚æ•°æˆªå–æ³¢å½¢æ•°æ®çš„åæ®µè¿›è¡Œçœ¼å›¾åˆ†æã€‚è¿™ä¸€æ­¥éª¤ç¡®ä¿ä½¿ç”¨é“¾è·¯ç¨³å®šåçš„æ•°æ®è¿›è¡Œç»Ÿè®¡ï¼Œé¿å…å¯åŠ¨ç¬æ€è¿‡ç¨‹å¯¹çœ¼å›¾è´¨é‡è¯„ä¼°çš„å½±å“ã€‚æˆªå–èµ·ç‚¹ä¸º `t_start = t_total - measure_length`ã€‚

**æ­¥éª¤3-ç›¸ä½ä¼°è®¡**ï¼šé‡‡ç”¨é…ç½®çš„é‡‡æ ·ç­–ç•¥ï¼ˆ`sampling` å‚æ•°ï¼‰ä¼°è®¡æœ€ä½³é‡‡æ ·ç›¸ä½ã€‚å¯é€‰ç­–ç•¥åŒ…æ‹¬ï¼š
- **å³°å€¼é‡‡æ ·**ï¼ˆ`peak`ï¼‰ï¼šåœ¨ä¿¡å·å¹…åº¦å³°å€¼å¤„é‡‡æ ·ï¼Œæœ€å¤§åŒ–ä¿¡å™ªæ¯”
- **è¿‡é›¶é‡‡æ ·**ï¼ˆ`zero-cross`ï¼‰ï¼šåœ¨ä¿¡å·è¿‡é›¶ç‚¹é‡‡æ ·ï¼Œé€‚ç”¨äºæ—¶é’Ÿæ¢å¤éªŒè¯
- **ç›¸ä½é”å®š**ï¼ˆ`phase-lock`ï¼‰ï¼šåŸºäºæ—¶é’Ÿå‚æ•°è®¡ç®—ç†æƒ³é‡‡æ ·ç›¸ä½ï¼Œé»˜è®¤æ¨è

**æ­¥éª¤4-ç›¸ä½å½’ä¸€åŒ–**ï¼šå°†ç»å¯¹æ—¶é—´è½¬æ¢ä¸ºå½’ä¸€åŒ–ç›¸ä½ `phi = (t % UI) / UI`ï¼Œå…¶ä¸­ UI ä¸ºå•ä½é—´éš”ã€‚æ­¤æ­¥éª¤å°†ä¸åŒæ—¶åˆ»çš„æ³¢å½¢ç‚¹æ˜ å°„åˆ° [0, 1] åŒºé—´å†…çš„ç›¸å¯¹ä½ç½®ï¼Œå®ç°çœ¼å›¾çš„å‘¨æœŸå¯¹é½å’Œå åŠ ã€‚

**æ­¥éª¤5-äºŒç»´ç›´æ–¹å›¾æ„å»º**ï¼šä½¿ç”¨ `numpy.histogram2d` åœ¨ç›¸ä½è½´ï¼ˆ`ui_bins`ï¼‰å’Œå¹…åº¦è½´ï¼ˆ`amp_bins`ï¼‰ä¸Šæ„å»ºäºŒç»´ç›´æ–¹å›¾ã€‚è‹¥å¯ç”¨ `hist2d_normalize`ï¼Œå°†è®¡æ•°å€¼å½’ä¸€åŒ–ä¸ºæ¦‚ç‡å¯†åº¦å‡½æ•°ï¼ˆPDFï¼‰ï¼Œç”Ÿæˆçœ¼å›¾å¯†åº¦çŸ©é˜µ `H[phi, amplitude]`ã€‚

**æ­¥éª¤6-çœ¼å›¾æŒ‡æ ‡æå–**ï¼šä»äºŒç»´å¯†åº¦çŸ©é˜µè®¡ç®—æ ¸å¿ƒçœ¼å›¾æŒ‡æ ‡ï¼š
- **çœ¼é«˜ï¼ˆEye Heightï¼‰**ï¼šåœ¨æœ€ä½³é‡‡æ ·ç›¸ä½å¤„ï¼Œä¸Šä¸‹çœ¼è¾¹ç•Œçš„å‚ç›´å¼€å£è·ç¦»
- **çœ¼å®½ï¼ˆEye Widthï¼‰**ï¼šåœ¨æœ€ä½³åˆ¤å†³é˜ˆå€¼å¤„ï¼Œå·¦å³äº¤å‰ç‚¹çš„æ°´å¹³å¼€å£è·ç¦»
- **å¼€å£é¢ç§¯ï¼ˆEye Areaï¼‰**ï¼šçœ¼å›¾å¼€å£åŒºåŸŸçš„ç§¯åˆ†é¢ç§¯ï¼Œç»¼åˆåæ˜ çœ¼å›¾è´¨é‡
- **çº¿æ€§åº¦è¯¯å·®ï¼ˆLinearity Errorï¼‰**ï¼šå¯¹çœ¼å›¾å¼€å£åŒºåŸŸè¿›è¡Œçº¿æ€§æ‹Ÿåˆï¼Œè®¡ç®—æ‹Ÿåˆè¯¯å·®

**æ­¥éª¤7-æŠ–åŠ¨åˆ†è§£**ï¼šé‡‡ç”¨åŒç‹„æ‹‰å…‹æ¨¡å‹ï¼ˆDual-Diracï¼‰æˆ–å°¾éƒ¨æ‹Ÿåˆï¼ˆTail-Fitï¼‰æ–¹æ³•åˆ†è§£æŠ–åŠ¨æˆåˆ†ï¼š
- **éšæœºæŠ–åŠ¨ï¼ˆRJï¼‰**ï¼šé«˜æ–¯åˆ†å¸ƒï¼Œé€šè¿‡çœ¼å›¾äº¤å‰åŒºåŸŸçš„ç»Ÿè®¡ç‰¹æ€§æå–æ ‡å‡†å·® `rj_sigma`
- **ç¡®å®šæ€§æŠ–åŠ¨ï¼ˆDJï¼‰**ï¼šæ•°æ®ç›¸å…³æŠ–åŠ¨å’Œå‘¨æœŸæ€§æŠ–åŠ¨ï¼Œé€šè¿‡åŒå³°åˆ†å¸ƒåˆ†ç¦»æå–å³°å³°å€¼ `dj_pp`
- **æ€»æŠ–åŠ¨ï¼ˆTJ@BERï¼‰**ï¼šåœ¨ç›®æ ‡è¯¯ç ç‡ `target_ber` ä¸‹ï¼ŒRJ å’Œ DJ çš„å·ç§¯ç»“æœ

**æ­¥éª¤8-ç»“æœè¾“å‡º**ï¼šå°†è®¡ç®—å¾—åˆ°çš„æŒ‡æ ‡ä¿å­˜ä¸ºç»“æ„åŒ–è¾“å‡ºï¼š
- **JSON æ–‡ä»¶**ï¼š`metrics_json` åŒ…å«æ‰€æœ‰çœ¼å›¾æŒ‡æ ‡å’ŒæŠ–åŠ¨åˆ†è§£ç»“æœ
- **å›¾åƒæ–‡ä»¶**ï¼š`eye_image` ç”Ÿæˆçœ¼å›¾å¯è§†åŒ–å›¾åƒï¼ˆPNG/SVG/PDFï¼‰
- **CSV æ•°æ®**ï¼ˆå¯é€‰ï¼‰ï¼š`csv_data` ä¿å­˜ PSDã€PDF å’ŒäºŒç»´å¯†åº¦çŸ©é˜µç”¨äºæ·±åº¦åˆ†æ

### 3.2 å…³é”®ç®—æ³•/æœºåˆ¶

#### 3.2.1 çœ¼å›¾æ„å»ºç®—æ³•

çœ¼å›¾æ„å»ºçš„æ ¸å¿ƒåœ¨äº**ç›¸ä½æ˜ å°„**å’Œ**äºŒç»´å¯†åº¦è®¡ç®—**ï¼š

**ç›¸ä½æ˜ å°„æ•°å­¦è¡¨è¾¾**ï¼š
```
phi(t) = (t mod UI) / UI,  phi âˆˆ [0, 1]
```
å…¶ä¸­ `UI = 1 / data_rate`ï¼Œ`data_rate` ä¸ºé“¾è·¯æ•°æ®é€Ÿç‡ï¼ˆå¦‚ 10Gbps å¯¹åº” UI = 2.5e-11sï¼‰ã€‚

**äºŒç»´ç›´æ–¹å›¾æ„å»º**ï¼š
```python
H, xedges, yedges = np.histogram2d(phi, amplitude, 
                                   bins=[ui_bins, amp_bins], 
                                   density=hist2d_normalize)
```
- `H`ï¼šçœ¼å›¾å¯†åº¦çŸ©é˜µï¼Œå½¢çŠ¶ä¸º `(ui_bins, amp_bins)`
- `xedges`ï¼šç›¸ä½è½´è¾¹ç•Œæ•°ç»„ï¼Œé•¿åº¦ `ui_bins + 1`
- `yedges`ï¼šå¹…åº¦è½´è¾¹ç•Œæ•°ç»„ï¼Œé•¿åº¦ `amp_bins + 1`

**å¯†åº¦å¯è§†åŒ–**ï¼š
ä½¿ç”¨ `matplotlib.imshow` å°†å¯†åº¦çŸ©é˜µæ¸²æŸ“ä¸ºçƒ­å›¾ï¼Œé¢œè‰²æ˜ å°„é‡‡ç”¨ `'hot'` æˆ– `'viridis'` æ–¹æ¡ˆï¼Œé¢œè‰²å¼ºåº¦å¯¹åº”ä¿¡å·å‡ºç°çš„æ¦‚ç‡å¯†åº¦ã€‚

#### 3.2.2 çœ¼å›¾æŒ‡æ ‡è®¡ç®—ç®—æ³•

**çœ¼é«˜è®¡ç®—**ï¼š
çœ¼é«˜å®šä¹‰ä¸ºåœ¨æœ€ä½³é‡‡æ ·ç›¸ä½ `phi_opt` å¤„ï¼Œä¸Šä¸‹çœ¼è¾¹ç•Œä¹‹é—´çš„å‚ç›´è·ç¦»ï¼š
```
eye_height = V_top(phi_opt) - V_bottom(phi_opt)
```
å…¶ä¸­ `V_top` å’Œ `V_bottom` é€šè¿‡æŸ¥æ‰¾å¯†åº¦çŸ©é˜µä¸­ä¸Šä¸‹è¾¹ç¼˜çš„ 50% å¹…åº¦ç‚¹ç¡®å®šã€‚

**çœ¼å®½è®¡ç®—**ï¼š
çœ¼å®½å®šä¹‰ä¸ºåœ¨æœ€ä½³åˆ¤å†³é˜ˆå€¼ `V_th` å¤„ï¼Œå·¦å³äº¤å‰ç‚¹ä¹‹é—´çš„æ°´å¹³è·ç¦»ï¼š
```
eye_width = phi_right(V_th) - phi_left(V_th)
```
äº¤å‰ç‚¹ä½ç½®é€šè¿‡æ£€æµ‹å¯†åº¦çŸ©é˜µä¸­çœ¼å›¾å¼€å£çš„å·¦å³è¾¹ç•Œç¡®å®šï¼Œé€šå¸¸ä»¥ 50% å¹…åº¦ä½œä¸ºé˜ˆå€¼ã€‚

**å¼€å£é¢ç§¯è®¡ç®—**ï¼š
å¼€å£é¢ç§¯é€šè¿‡ç§¯åˆ†çœ¼å›¾å¼€å£åŒºåŸŸå†…çš„æ¦‚ç‡å¯†åº¦å¾—åˆ°ï¼š
```
eye_area = âˆ«âˆ«_EyeOpening H(phi, V) dphi dV
```
ç¦»æ•£å®ç°ä¸ºå¯¹å¼€å£åŒºåŸŸå†…æ‰€æœ‰ bin çš„å¯†åº¦å€¼æ±‚å’Œï¼Œå†ä¹˜ä»¥ bin é¢ç§¯ `(Î”phi Ã— Î”V)`ã€‚

**çº¿æ€§åº¦è¯¯å·®è®¡ç®—**ï¼š
å¯¹çœ¼å›¾å¼€å£åŒºåŸŸå†…çš„æ•°æ®ç‚¹è¿›è¡Œçº¿æ€§å›å½’ï¼Œè®¡ç®—æ‹Ÿåˆæ®‹å·®ï¼š
```
linearity_error = RMS( V_actual - V_linear_fit )
```
è¯¥æŒ‡æ ‡åæ˜ ä¿¡å·ä¼ è¾“çš„çº¿æ€§åº¦ï¼Œå€¼è¶Šå°è¯´æ˜ä¿¡å·å¤±çœŸè¶Šå°ã€‚

#### 3.2.3 æŠ–åŠ¨åˆ†è§£ç®—æ³•

**åŒç‹„æ‹‰å…‹æ¨¡å‹ï¼ˆDual-Dirac Modelï¼‰**ï¼š
åŒç‹„æ‹‰å…‹æ¨¡å‹å°†æŠ–åŠ¨åˆ†å¸ƒå»ºæ¨¡ä¸ºä¸¤ä¸ªç‹„æ‹‰å…‹å‡½æ•°çš„å·ç§¯ï¼Œåˆ†åˆ«å¯¹åº”æ•°æ®"0"å’Œ"1"çš„åˆ†å¸ƒï¼š

```
PDF_total(t) = 0.5 Ã— [PDF_0(t) + PDF_1(t)]
```

å…¶ä¸­ `PDF_0` å’Œ `PDF_1` ä¸ºé«˜æ–¯åˆ†å¸ƒï¼š
```
PDF_0(t) = (1 / (Ïƒ_RJ Ã— âˆš(2Ï€))) Ã— exp(-(t - Î¼_0)Â² / (2Ïƒ_RJÂ²))
PDF_1(t) = (1 / (Ïƒ_RJ Ã— âˆš(2Ï€))) Ã— exp(-(t - Î¼_1)Â² / (2Ïƒ_RJÂ²))
```

**å‚æ•°æå–**ï¼š
- **RJ æ ‡å‡†å·®**ï¼šé€šè¿‡çœ¼å›¾äº¤å‰åŒºåŸŸçš„åˆ†å¸ƒå®½åº¦æ‹Ÿåˆé«˜æ–¯åˆ†å¸ƒæå– `Ïƒ_RJ`
- **DJ å³°å³°å€¼**ï¼š`dj_pp = Î¼_1 - Î¼_0`ï¼Œå³ä¸¤ä¸ªåˆ†å¸ƒå‡å€¼ä¹‹é—´çš„è·ç¦»
- **TJ@BER è®¡ç®—**ï¼šåœ¨ç›®æ ‡è¯¯ç ç‡ BER ä¸‹ï¼Œæ€»æŠ–åŠ¨ä¸º RJ å’Œ DJ çš„å·ç§¯ï¼š
  ```
  tj_at_ber = dj_pp + 2 Ã— Q(ber) Ã— Ïƒ_RJ
  ```
  å…¶ä¸­ `Q(ber)` ä¸º Q å‡½æ•°ï¼Œåœ¨ BER = 1e-12 æ—¶ï¼Œ`Q â‰ˆ 7.03`ã€‚

**å°¾éƒ¨æ‹Ÿåˆï¼ˆTail-Fitï¼‰æ–¹æ³•**ï¼ˆå¯é€‰ï¼‰ï¼š
å¯¹çœ¼å›¾äº¤å‰åŒºåŸŸçš„å°¾éƒ¨è¿›è¡ŒæŒ‡æ•°æ‹Ÿåˆï¼Œåˆ†ç¦» RJ å’Œ DJ æˆåˆ†ã€‚é€‚ç”¨äºéé«˜æ–¯æŠ–åŠ¨åˆ†å¸ƒçš„æƒ…å†µï¼Œä½†è®¡ç®—å¤æ‚åº¦è¾ƒé«˜ã€‚

#### 3.2.4 PSD/PDF è®¡ç®—æ–¹æ³•

**åŠŸç‡è°±å¯†åº¦ï¼ˆPSDï¼‰**ï¼š
ä½¿ç”¨ Welch æ–¹æ³•è®¡ç®—ä¿¡å·çš„åŠŸç‡è°±å¯†åº¦ï¼š
```python
f, Pxx = signal.welch(amplitude, fs=Fs, nperseg=psd_nperseg)
```
- `Fs`ï¼šé‡‡æ ·ç‡ï¼Œä»æ³¢å½¢æ•°æ®çš„æ—¶é—´æ­¥é•¿è‡ªåŠ¨è®¡ç®—
- `nperseg`ï¼šæ¯æ®µæ ·æœ¬æ•°ï¼Œæ§åˆ¶é¢‘ç‡åˆ†è¾¨ç‡
- `Pxx`ï¼šåŠŸç‡è°±å¯†åº¦ï¼ˆVÂ²/Hzï¼‰

**æ¦‚ç‡å¯†åº¦å‡½æ•°ï¼ˆPDFï¼‰**ï¼š
ä½¿ç”¨ç›´æ–¹å›¾ä¼°è®¡ä¿¡å·å¹…åº¦çš„æ¦‚ç‡å¯†åº¦åˆ†å¸ƒï¼š
```python
pdf, bins = np.histogram(amplitude, bins=256, density=True)
```
`density=True` ç¡®ä¿å½’ä¸€åŒ–ä¸ºæ¦‚ç‡å¯†åº¦ï¼ˆç§¯åˆ†é¢ç§¯ä¸º 1ï¼‰ã€‚

### 3.3 è®¾è®¡å†³ç­–è¯´æ˜

#### 3.3.1 ä¸ºä»€ä¹ˆé€‰æ‹© `phase-lock` ä½œä¸ºé»˜è®¤é‡‡æ ·ç­–ç•¥

**è®¾è®¡è€ƒé‡**ï¼š
- **ç‰©ç†æ„ä¹‰æ˜ç¡®**ï¼š`phase-lock` ç­–ç•¥åŸºäºé“¾è·¯æ—¶é’Ÿå‚æ•°è®¡ç®—ç†æƒ³é‡‡æ ·ç›¸ä½ï¼Œç¬¦åˆå®é™… CDRï¼ˆæ—¶é’Ÿæ•°æ®æ¢å¤ï¼‰ç”µè·¯çš„è¡Œä¸º
- **é²æ£’æ€§å¼º**ï¼šç›¸æ¯” `peak` å’Œ `zero-cross` ç­–ç•¥ï¼Œ`phase-lock` å¯¹å™ªå£°å’Œå¤±çœŸçš„æ•æ„Ÿåº¦æ›´ä½ï¼Œèƒ½å¤Ÿåœ¨ä¿¡å·è´¨é‡è¾ƒå·®æ—¶ä»ä¿æŒç¨³å®š
- **å·¥ç¨‹å®è·µä¸€è‡´**ï¼šåœ¨çœŸå® SerDes ç³»ç»Ÿä¸­ï¼Œæ¥æ”¶ç«¯ CDR é”å®šåé‡‡æ ·ç›¸ä½å›ºå®šï¼Œ`phase-lock` æ¨¡æ‹Ÿäº†è¿™ä¸€è¡Œä¸º

**æƒè¡¡åˆ†æ**ï¼š
- `peak` ç­–ç•¥åœ¨ä¿¡å™ªæ¯”é«˜æ—¶æ€§èƒ½æœ€ä¼˜ï¼Œä½†å¯¹å¹…åº¦å™ªå£°æ•æ„Ÿ
- `zero-cross` ç­–ç•¥é€‚ç”¨äºæ—¶é’Ÿæ¢å¤éªŒè¯ï¼Œä½†ä¸é€‚ç”¨äºæ•°æ®é‡‡æ ·
- `phase-lock` åœ¨ç»¼åˆæ€§èƒ½å’Œé²æ£’æ€§ä¹‹é—´å–å¾—æœ€ä½³å¹³è¡¡ï¼Œå› æ­¤ä½œä¸ºé»˜è®¤ç­–ç•¥

#### 3.3.2 ä¸ºä»€ä¹ˆä½¿ç”¨äºŒç»´ç›´æ–¹å›¾è€Œéé€ç‚¹ç»˜åˆ¶

**æ€§èƒ½ä¼˜åŠ¿**ï¼š
- **è®¡ç®—æ•ˆç‡é«˜**ï¼šäºŒç»´ç›´æ–¹å›¾é€šè¿‡ `numpy.histogram2d` ä¸€æ¬¡æ€§å®Œæˆæ‰€æœ‰ç‚¹çš„ç»Ÿè®¡ï¼Œæ—¶é—´å¤æ‚åº¦ O(N)ï¼Œè€Œé€ç‚¹ç»˜åˆ¶çš„æ—¶é—´å¤æ‚åº¦ä¸º O(N Ã— æ¸²æŸ“å¼€é”€)
- **å†…å­˜å ç”¨ä½**ï¼šç›´æ–¹å›¾çŸ©é˜µå¤§å°å›ºå®šä¸º `ui_bins Ã— amp_bins`ï¼Œä¸è¾“å…¥æ•°æ®é‡æ— å…³ï¼›é€ç‚¹ç»˜åˆ¶éœ€è¦å­˜å‚¨æ‰€æœ‰ç‚¹çš„åæ ‡ä¿¡æ¯

**ç»Ÿè®¡ç‰¹æ€§**ï¼š
- **æ¦‚ç‡å¯†åº¦å¯è§†åŒ–**ï¼šäºŒç»´ç›´æ–¹å›¾å¤©ç„¶æ”¯æŒå¯†åº¦å½’ä¸€åŒ–ï¼Œé¢œè‰²å¼ºåº¦ç›´æ¥åæ˜ ä¿¡å·å‡ºç°çš„æ¦‚ç‡ï¼Œç¬¦åˆçœ¼å›¾çš„ç»Ÿè®¡æœ¬è´¨
- **å™ªå£°æŠ‘åˆ¶**ï¼šé€šè¿‡ binning æ“ä½œï¼Œç›´æ–¹å›¾å¯¹é«˜é¢‘å™ªå£°å…·æœ‰å¤©ç„¶çš„å¹³æ»‘ä½œç”¨ï¼Œä½¿çœ¼å›¾è½®å»“æ›´æ¸…æ™°

**å¯æ‰©å±•æ€§**ï¼š
- **åŠ¨æ€åˆ†è¾¨ç‡è°ƒæ•´**ï¼šé€šè¿‡è°ƒæ•´ `ui_bins` å’Œ `amp_bins` å‚æ•°ï¼Œå¯åœ¨è®¡ç®—ç²¾åº¦å’Œæ€§èƒ½ä¹‹é—´çµæ´»æƒè¡¡
- **åç«¯æ— å…³**ï¼šäºŒç»´å¯†åº¦çŸ©é˜µå¯è½»æ¾å¯¼å‡ºä¸ºå¤šç§å¯è§†åŒ–åç«¯ï¼ˆmatplotlibã€Plotlyã€Surfer ç­‰ï¼‰ï¼Œä¿æŒæ•°æ®ä¸€è‡´æ€§

#### 3.3.3 ä¸ºä»€ä¹ˆé‡‡ç”¨åŒç‹„æ‹‰å…‹æ¨¡å‹è¿›è¡ŒæŠ–åŠ¨åˆ†è§£

**æ¨¡å‹åˆç†æ€§**ï¼š
- **ç‰©ç†åŸºç¡€åšå®**ï¼šåŒç‹„æ‹‰å…‹æ¨¡å‹æºäºé«˜é€Ÿæ•°å­—é€šä¿¡çš„ç‰©ç†æœ¬è´¨ï¼Œæ•°æ®"0"å’Œ"1"çš„ä¼ è¾“æ—¶åºåˆ†åˆ«æœä»é«˜æ–¯åˆ†å¸ƒï¼Œç¬¦åˆä¸­å¿ƒæé™å®šç†
- **ä¸šç•Œæ ‡å‡†**ï¼šåœ¨ IEEE 802.3ã€OIF-CEI ç­‰é«˜é€Ÿæ¥å£æ ‡å‡†ä¸­ï¼ŒåŒç‹„æ‹‰å…‹æ¨¡å‹æ˜¯æ¨èçš„æŠ–åŠ¨åˆ†è§£æ–¹æ³•ï¼Œå…·æœ‰å¹¿æ³›çš„è®¤å¯åº¦å’Œå¯æ¯”æ€§

**è®¡ç®—ç®€æ´æ€§**ï¼š
- **å‚æ•°å°‘**ï¼šä»…éœ€æå– RJ æ ‡å‡†å·®å’Œ DJ å³°å³°å€¼ä¸¤ä¸ªå‚æ•°ï¼Œè®¡ç®—å¤æ‚åº¦ä½
- **è§£æè§£**ï¼šTJ@BER å¯é€šè¿‡ Q å‡½æ•°ç›´æ¥è®¡ç®—ï¼Œæ— éœ€æ•°å€¼ç§¯åˆ†æˆ–è¿­ä»£ï¼Œæ‰§è¡Œæ•ˆç‡é«˜

**å·¥ç¨‹å®ç”¨æ€§**ï¼š
- **ä¸çœ¼å›¾ç›´æ¥å…³è”**ï¼šåŒç‹„æ‹‰å…‹æ¨¡å‹çš„å‚æ•°å¯ç›´æ¥ä»çœ¼å›¾äº¤å‰åŒºåŸŸæå–ï¼Œå®ç°ç®€å•ç›´è§‚
- **BER å¤–æ¨èƒ½åŠ›**ï¼šåŸºäº RJ é«˜æ–¯åˆ†å¸ƒç‰¹æ€§ï¼Œå¯å‡†ç¡®å¤–æ¨ä½ BERï¼ˆå¦‚ 1e-12ï¼‰ä¸‹çš„æ€»æŠ–åŠ¨ï¼Œæ»¡è¶³ç³»ç»Ÿè§„æ ¼éªŒè¯éœ€æ±‚

**å±€é™æ€§è¯´æ˜**ï¼š
- åŒç‹„æ‹‰å…‹æ¨¡å‹å‡è®¾æŠ–åŠ¨åˆ†å¸ƒä¸ºé«˜æ–¯å‹ï¼Œå¯¹äºå¼ºéé«˜æ–¯æŠ–åŠ¨ï¼ˆå¦‚ç”µæºå™ªå£°å¼•èµ·çš„å‘¨æœŸæ€§æŠ–åŠ¨ï¼‰ç²¾åº¦å¯èƒ½ä¸‹é™
- æ­¤æ—¶å¯åˆ‡æ¢ä¸º `tail-fit` æ–¹æ³•ï¼Œä½†éœ€æƒè¡¡è®¡ç®—å¤æ‚åº¦çš„å¢åŠ 

#### 3.3.4 ä¸ºä»€ä¹ˆéœ€è¦ `measure_length` å‚æ•°æˆªå–æ³¢å½¢åæ®µ

**ç¬æ€è¿‡ç¨‹æ’é™¤**ï¼š
- **é“¾è·¯å¯åŠ¨é˜¶æ®µ**ï¼šSerDes é“¾è·¯åœ¨å¯åŠ¨åˆæœŸå­˜åœ¨ CDR é”å®šã€è‡ªé€‚åº”å‡è¡¡æ”¶æ•›ç­‰ç¬æ€è¿‡ç¨‹ï¼Œä¿¡å·è´¨é‡ä¸ç¨³å®š
- **CTLE/DFE æ”¶æ•›**ï¼šæ¥æ”¶ç«¯è‡ªé€‚åº”ç®—æ³•éœ€è¦ä¸€å®šæ—¶é—´æ”¶æ•›åˆ°æœ€ä¼˜ç³»æ•°ï¼Œå‰æœŸçœ¼å›¾ä¸èƒ½åæ˜ çœŸå®æ€§èƒ½

**ç»Ÿè®¡ç¨³å®šæ€§**ï¼š
- **å¤§æ•°å®šå¾‹**ï¼šçœ¼å›¾åˆ†æåŸºäºç»Ÿè®¡æ–¹æ³•ï¼Œéœ€è¦è¶³å¤Ÿæ•°é‡çš„ UI æ ·æœ¬æ‰èƒ½ä¿è¯æŒ‡æ ‡æ”¶æ•›å’Œç¨³å®š
- **æˆªæ–­è¯¯å·®æ§åˆ¶**ï¼šé€šè¿‡æˆªå–åæ®µæ•°æ®ï¼Œå¯ç¡®ä¿åˆ†æåŸºäºé“¾è·¯ç¨³å®šåçš„æ³¢å½¢ï¼Œé¿å…ç¬æ€è¿‡ç¨‹å¼•å…¥çš„ç»Ÿè®¡åå·®

**å·¥ç¨‹å®è·µåŒ¹é…**ï¼š
- **æµ‹è¯•è§„èŒƒä¸€è‡´**ï¼šåœ¨èŠ¯ç‰‡æµ‹è¯•å’ŒéªŒè¯ä¸­ï¼Œçœ¼å›¾æµ‹é‡é€šå¸¸åœ¨é“¾è·¯ç¨³å®šåè¿›è¡Œï¼Œ`measure_length` å‚æ•°æ¨¡æ‹Ÿäº†è¿™ä¸€æµ‹è¯•æµç¨‹
- **è°ƒè¯•å‹å¥½**ï¼šåœ¨é“¾è·¯è°ƒè¯•æ—¶ï¼Œå¯é€šè¿‡è°ƒæ•´ `measure_length` è§‚å¯Ÿä¸åŒæ—¶é—´æ®µçš„ä¿¡å·è´¨é‡å˜åŒ–ï¼Œå®šä½é”å®šæˆ–æ”¶æ•›é—®é¢˜

**å‚æ•°é€‰æ‹©å»ºè®®**ï¼š
- `measure_length` åº”è‡³å°‘åŒ…å« 10,000 ä¸ª UIï¼Œæ¨è 100,000 UI ä»¥ä¸Š
- ä¾‹å¦‚ 10Gbps é“¾è·¯ï¼ˆUI = 2.5e-11sï¼‰ï¼Œ100,000 UI å¯¹åº” 2.5e-6sï¼Œè®¾ç½® `measure_length = 2.5e-6` å¯è·å¾—ç¨³å®šçš„ç»Ÿè®¡ç»“æœ

## 4. æµ‹è¯•å¹³å°æ¶æ„

### 4.1 æµ‹è¯•å¹³å°è®¾è®¡æ€æƒ³

EyeAnalyzerä½œä¸ºPythonåˆ†æç»„ä»¶ï¼Œå…¶æµ‹è¯•å¹³å°é‡‡ç”¨**pytest**æ¡†æ¶æ„å»ºï¼Œéµå¾ªPythonæµ‹è¯•çš„æœ€ä½³å®è·µã€‚æ ¸å¿ƒè®¾è®¡ç†å¿µåŒ…æ‹¬ï¼š

1. **åˆ†å±‚æµ‹è¯•ç­–ç•¥**ï¼šå»ºç«‹å•å…ƒæµ‹è¯•ã€é›†æˆæµ‹è¯•ã€å›å½’æµ‹è¯•å’Œæ€§èƒ½æµ‹è¯•å››å±‚ä½“ç³»ï¼Œç¡®ä¿ä»ç®—æ³•æ¨¡å—åˆ°å®Œæ•´åˆ†ææµç¨‹çš„å…¨è¦†ç›–éªŒè¯
2. **æ•°æ®é©±åŠ¨æµ‹è¯•**ï¼šä½¿ç”¨YAML/JSONæ ¼å¼å®šä¹‰æµ‹è¯•ç”¨ä¾‹ï¼Œå®ç°æµ‹è¯•æ•°æ®ä¸æµ‹è¯•é€»è¾‘çš„åˆ†ç¦»ï¼Œä¾¿äºæ‰©å±•å’Œç»´æŠ¤
3. **æ¨¡æ‹Ÿæ•°æ®ç”Ÿæˆ**ï¼šå†…ç½®é«˜ä¿çœŸæ³¢å½¢ç”Ÿæˆå™¨ï¼Œæ”¯æŒPRBSåºåˆ—ã€æŠ–åŠ¨æ³¨å…¥ã€ä¿¡é“æŸä¼¤ç­‰ç‰¹æ€§ï¼Œç¡®ä¿æµ‹è¯•çš„å¯æ§æ€§å’Œå¯é‡å¤æ€§
4. **è‡ªåŠ¨åŒ–éªŒè¯**ï¼šé›†æˆå‚è€ƒæŒ‡æ ‡è®¡ç®—å™¨å’Œç»“æœå¯¹æ¯”å·¥å…·ï¼Œå®ç°æµ‹è¯•ç»“æœçš„è‡ªåŠ¨æ ¡éªŒï¼Œå‡å°‘äººå·¥å¹²é¢„
5. **æ€§èƒ½åŸºå‡†**ï¼šå»ºç«‹æ€§èƒ½æµ‹è¯•å¥—ä»¶ï¼Œç›‘æ§åˆ†æé€Ÿåº¦å’Œå†…å­˜å ç”¨ï¼Œé˜²æ­¢ä»£ç é€€åŒ–å¯¼è‡´çš„æ€§èƒ½ä¸‹é™

ä¸SystemC-AMSæ¨¡å—æµ‹è¯•ä¸åŒï¼ŒEyeAnalyzeræµ‹è¯•å¹³å°å®Œå…¨åŸºäºPythonç”Ÿæ€ï¼Œåˆ©ç”¨pytestçš„fixtureæœºåˆ¶å®ç°æµ‹è¯•ç»„ä»¶çš„çµæ´»ç»„åˆå’Œå¤ç”¨ã€‚

### 4.2 æµ‹è¯•åœºæ™¯å®šä¹‰

æµ‹è¯•æ¡†æ¶æ”¯æŒä»¥ä¸‹æ ¸å¿ƒæµ‹è¯•åœºæ™¯ï¼š

| åœºæ™¯å | å‘½ä»¤è¡Œå‚æ•° | æµ‹è¯•ç›®æ ‡ | è¾“å‡ºæ–‡ä»¶ |
|--------|-----------|---------|----------|
| BASIC_EYE_ANALYSIS | `basic` / `0` | åŸºç¡€çœ¼å›¾æŒ‡æ ‡è®¡ç®—ä¸å¯è§†åŒ– | test_basic_eye.png, metrics.json |
| JITTER_DECOMPOSITION | `jitter` / `1` | æŠ–åŠ¨åˆ†è§£ç²¾åº¦éªŒè¯ | test_jitter_decomp.png, jitter_stats.json |
| SAMPLING_STRATEGY | `sampling` / `2` | ä¸åŒé‡‡æ ·ç­–ç•¥å¯¹æ¯” | sampling_comparison.png, strategy_metrics.json |
| PERFORMANCE_STRESS | `perf` / `3` | å¤§æ•°æ®é‡æ€§èƒ½åŸºå‡†æµ‹è¯• | performance_report.json, memory_profile.dat |
| BOUNDARY_CONDITION | `boundary` / `4` | è¾¹ç•Œæ¡ä»¶ä¸å¼‚å¸¸å¤„ç† | boundary_test_report.json |
| REGRESSION_VALIDATION | `regression` / `5` | ä¸å‚è€ƒç»“æœå¯¹æ¯”éªŒè¯ | regression_report.html, diff_metrics.json |

### 4.3 åœºæ™¯é…ç½®è¯¦è§£

#### 4.3.1 åŸºç¡€çœ¼å›¾åˆ†ææµ‹è¯• (BASIC_EYE_ANALYSIS)

**åœºæ™¯æè¿°**ï¼š
éªŒè¯EyeAnalyzeræ ¸å¿ƒåŠŸèƒ½ï¼Œä»æ ‡å‡†PRBS-31æ³¢å½¢æ•°æ®ä¸­æå–çœ¼é«˜ã€çœ¼å®½ã€å¼€å£é¢ç§¯ç­‰åŸºç¡€çœ¼å›¾å‡ ä½•å‚æ•°ã€‚è¯¥åœºæ™¯ç”¨äºç¡®è®¤åŸºæœ¬ä¿¡å·å¤„ç†æµç¨‹çš„æ­£ç¡®æ€§å’ŒæŒ‡æ ‡è®¡ç®—ç²¾åº¦ã€‚

**è¾“å…¥æ•°æ®ç‰¹å¾**ï¼š
- æ•°æ®ç±»å‹ï¼šPRBS-31ä¼ªéšæœºåºåˆ—
- æ•°æ®é€Ÿç‡ï¼š10 Gbps (UI = 2.5e-11s)
- é‡‡æ ·ç‚¹æ•°ï¼š100,000 UI (æ€»æ—¶é•¿ 2.5e-6s)
- ä¿¡å·å¹…åº¦ï¼šå·®åˆ†æ‘†å¹… 800mV
- å™ªå£°ï¼šé«˜æ–¯ç™½å™ªå£°ï¼ŒÏƒ = 5mV

**å‚æ•°é…ç½®**ï¼š
```yaml
eye:
  ui_bins: 128
  amp_bins: 128
  measure_length: 2.5e-6
  target_ber: 1e-12
  sampling: phase-lock
  ui: 2.5e-11
```

**éªŒè¯ç‚¹**ï¼š
- çœ¼é«˜åº”æ¥è¿‘è¾“å…¥æ‘†å¹… (800mV Â± 10%)
- çœ¼å®½åº”æ¥è¿‘ 1 UI (2.5e-11s Â± 5%)
- å¼€å£é¢ç§¯ > 0.5 Ã— (çœ¼é«˜ Ã— çœ¼å®½)
- çº¿æ€§åº¦è¯¯å·® < 5% (åæ˜ ä¿¡å·å¤±çœŸç¨‹åº¦)

**æœŸæœ›ç»“æœ**ï¼š
- çœ¼é«˜ï¼š~750mV
- çœ¼å®½ï¼š~0.95 UI
- RJ_sigmaï¼š~5e-12s (ä¸æ³¨å…¥å™ªå£°ä¸€è‡´)
- DJ_ppï¼š~1e-11s (æ•°æ®ç›¸å…³æŠ–åŠ¨)

#### 4.3.2 æŠ–åŠ¨åˆ†è§£ç²¾åº¦æµ‹è¯• (JITTER_DECOMPOSITION)

**åœºæ™¯æè¿°**ï¼š
éªŒè¯RJ/DJ/TJæŠ–åŠ¨åˆ†è§£ç®—æ³•çš„å‡†ç¡®æ€§å’Œä¸€è‡´æ€§ã€‚é€šè¿‡æ³¨å…¥å·²çŸ¥é‡çš„éšæœºæŠ–åŠ¨å’Œç¡®å®šæ€§æŠ–åŠ¨ï¼Œè¯„ä¼°åˆ†è§£ç»“æœçš„ç²¾åº¦ã€‚

**è¾“å…¥æ•°æ®ç‰¹å¾**ï¼š
- åŸºç¡€æ•°æ®ï¼šPRBS-15åºåˆ—
- éšæœºæŠ–åŠ¨ï¼šRJ_sigma = 10e-12s (é«˜æ–¯åˆ†å¸ƒ)
- ç¡®å®šæ€§æŠ–åŠ¨ï¼šDJ_pp = 20e-12s (æ­£å¼¦è°ƒåˆ¶)
- å‘¨æœŸæ€§æŠ–åŠ¨ï¼šPJ_freq = 5MHz, PJ_pp = 5e-12s
- æ€»æ—¶é•¿ï¼š5e-6s (200,000 UI)

**å‚æ•°é…ç½®**ï¼š
```yaml
eye:
  ui_bins: 256
  amp_bins: 256
  measure_length: 5e-6
  target_ber: 1e-12
  jitter_extract_method: dual-dirac
  sampling: phase-lock
  ui: 2.5e-11
```

**éªŒè¯ç‚¹**ï¼š
- æå–çš„RJ_sigmaä¸æ³¨å…¥å€¼åå·® < 15%
- æå–çš„DJ_ppä¸æ³¨å…¥å€¼åå·® < 10%
- TJ@BERè®¡ç®—ç¬¦åˆç†è®ºå…¬å¼ï¼šTJ = DJ + 2 Ã— Q(BER) Ã— RJ
- ä¸åŒmeasure_lengthä¸‹ç»“æœæ”¶æ•› (å˜åŒ– < 5%)

**æœŸæœ›ç»“æœ**ï¼š
- RJ_sigmaï¼š~10e-12s (Â±1.5e-12s)
- DJ_ppï¼š~20e-12s (Â±2e-12s)
- TJ@1e-12ï¼š~34e-12s (ç†è®ºå€¼: 20e-12 + 2Ã—7.03Ã—10e-12 â‰ˆ 34e-12)

#### 4.3.3 é‡‡æ ·ç­–ç•¥å¯¹æ¯”æµ‹è¯• (SAMPLING_STRATEGY)

**åœºæ™¯æè¿°**ï¼š
è¯„ä¼°ä¸‰ç§é‡‡æ ·ç­–ç•¥ï¼ˆpeak/zero-cross/phase-lockï¼‰åœ¨ä¸åŒä¿¡å·è´¨é‡ä¸‹çš„æ€§èƒ½è¡¨ç°ï¼Œç¡®å®šæœ€ä½³é»˜è®¤ç­–ç•¥ã€‚

**è¾“å…¥æ•°æ®ç‰¹å¾**ï¼š
- ä¸‰ç»„æ•°æ®é›†ï¼Œåˆ†åˆ«å¯¹åº”ä¸åŒä¿¡å™ªæ¯”ï¼š
  - é«˜SNRï¼šSNR = 30dB, RJ_sigma = 2e-12s
  - ä¸­SNRï¼šSNR = 20dB, RJ_sigma = 8e-12s
  - ä½SNRï¼šSNR = 15dB, RJ_sigma = 15e-12s
- æ•°æ®é€Ÿç‡ï¼š25 Gbps (UI = 4e-11s)
- æ•°æ®é•¿åº¦ï¼š100,000 UI

**å‚æ•°é…ç½®**ï¼š
```yaml
test_matrix:
  - sampling: peak
    snr: [30, 20, 15]
  - sampling: zero-cross
    snr: [30, 20, 15]
  - sampling: phase-lock
    snr: [30, 20, 15]

eye:
  ui_bins: 128
  amp_bins: 128
  measure_length: 4e-6
  target_ber: 1e-12
  ui: 4e-11
```

**éªŒè¯ç‚¹**ï¼š
- é«˜SNRä¸‹ä¸‰ç§ç­–ç•¥çœ¼å›¾æŒ‡æ ‡å·®å¼‚ < 5%
- ä½SNRä¸‹phase-lockç­–ç•¥çœ¼å®½æœ€ç¨³å®š (å˜åŒ– < 10%)
- peakç­–ç•¥å¯¹å¹…åº¦å™ªå£°æ•æ„Ÿï¼Œä½SNRä¸‹çœ¼é«˜ä¼°è®¡åå·® > 15%
- zero-crossç­–ç•¥åœ¨ä¿¡å·å¤±çœŸä¸¥é‡æ—¶å¤±æ•ˆ (çœ¼å®½ < 0.5 UI)

**æœŸæœ›ç»“æœ**ï¼š
- phase-lockç­–ç•¥åœ¨æ‰€æœ‰SNRæ¡ä»¶ä¸‹è¡¨ç°æœ€ç¨³å¥
- peakç­–ç•¥åœ¨é«˜SNRä¸‹ç²¾åº¦æœ€é«˜ï¼Œä½†ä½SNRä¸‹æ€§èƒ½æ€¥å‰§ä¸‹é™
- zero-crossç­–ç•¥é€‚ç”¨äºæ—¶é’Ÿæ¢å¤åœºæ™¯ï¼Œä¸é€‚ç”¨äºæ•°æ®çœ¼å›¾åˆ†æ

#### 4.3.4 å¤§æ•°æ®é‡æ€§èƒ½æµ‹è¯• (PERFORMANCE_STRESS)

**åœºæ™¯æè¿°**ï¼š
è¯„ä¼°EyeAnalyzeråœ¨å¤„ç†å¤§è§„æ¨¡æ•°æ®é›†æ—¶çš„è®¡ç®—æ•ˆç‡å’Œå†…å­˜å ç”¨ï¼Œå»ºç«‹æ€§èƒ½åŸºå‡†ã€‚

**è¾“å…¥æ•°æ®ç‰¹å¾**ï¼š
- æ•°æ®é€Ÿç‡ï¼š56 Gbps (UI = 1.7857e-11s)
- æ•°æ®è§„æ¨¡æ¢¯åº¦ï¼š
  - å°ï¼š100,000 UI (æ€»æ—¶é•¿ 1.7857e-6s)
  - ä¸­ï¼š1,000,000 UI (æ€»æ—¶é•¿ 1.7857e-5s)
  - å¤§ï¼š10,000,000 UI (æ€»æ—¶é•¿ 1.7857e-4s)
  - è¶…å¤§ï¼š50,000,000 UI (æ€»æ—¶é•¿ 8.9285e-4s)
- é‡‡æ ·ç‡ï¼š224 GSa/s (æ¯UI 4ä¸ªé‡‡æ ·ç‚¹)

**å‚æ•°é…ç½®**ï¼š
```yaml
performance:
  data_sizes: [100000, 1000000, 10000000, 50000000]
  ui: 1.7857e-11
  ui_bins: 256
  amp_bins: 256
  measure_length: auto  # ä½¿ç”¨å…¨éƒ¨æ•°æ®

eye:
  sampling: phase-lock
  target_ber: 1e-12
```

**éªŒè¯ç‚¹**ï¼š
- åˆ†ææ—¶é—´éšæ•°æ®é‡çº¿æ€§å¢é•¿ (O(N)å¤æ‚åº¦)
- å†…å­˜å ç”¨å³°å€¼ < æ•°æ®å¤§å°çš„2å€ (å«ä¸­é—´æ•°ç»„)
- 1M UIæ•°æ®åœ¨30ç§’å†…å®Œæˆåˆ†æ
- 10M UIæ•°æ®åœ¨5åˆ†é’Ÿå†…å®Œæˆåˆ†æ
- å†…å­˜å ç”¨æ¢¯åº¦ï¼š100K UI (~50MB) â†’ 1M UI (~200MB) â†’ 10M UI (~1.5GB)

**æ€§èƒ½åŸºå‡†**ï¼š
- ååé‡ï¼š> 500k UI/ç§’ (åœ¨Intel i7-12700Kä¸Š)
- å†…å­˜æ•ˆç‡ï¼š< 200 bytes/UI
- å¯æ‰©å±•æ€§ï¼šæ”¯æŒ>100M UIæ•°æ®é›† (éœ€>32GBå†…å­˜)

#### 4.3.5 è¾¹ç•Œæ¡ä»¶æµ‹è¯• (BOUNDARY_CONDITION)

**åœºæ™¯æè¿°**ï¼š
éªŒè¯EyeAnalyzeråœ¨æç«¯æˆ–å¼‚å¸¸è¾“å…¥ä¸‹çš„é²æ£’æ€§å’Œé”™è¯¯å¤„ç†èƒ½åŠ›ï¼Œç¡®ä¿å·¥å…·åœ¨å„ç§è¾¹ç•Œæ¡ä»¶ä¸‹éƒ½èƒ½å®‰å…¨è¿è¡Œã€‚

**æµ‹è¯•å­åœºæ™¯**ï¼š

1. **çŸ­æ•°æ®æµ‹è¯•**ï¼š
   - è¾“å…¥ï¼šä»…1,000 UI (è¿œå°äºæ¨èå€¼)
   - æœŸæœ›ï¼šå‘å‡ºè­¦å‘Šï¼Œä½†ä»ç”Ÿæˆç»“æœï¼ŒæŒ‡æ ‡ç½®ä¿¡åº¦ä½

2. **å•å‘¨æœŸæ•°æ®**ï¼š
   - è¾“å…¥ï¼šæ°å¥½1 UIçš„æ•°æ®
   - æœŸæœ›ï¼šæŠ›å‡ºå¼‚å¸¸ï¼Œæç¤ºæ•°æ®ä¸è¶³

3. **æ’å®šä¿¡å·**ï¼š
   - è¾“å…¥ï¼šDCæ’å®šå€¼ (æ— è·³å˜)
   - æœŸæœ›ï¼šçœ¼é«˜=0, çœ¼å®½=0, æŠ–åŠ¨åˆ†è§£å¤±è´¥å¹¶æç¤º

4. **å¹…åº¦é¥±å’Œ**ï¼š
   - è¾“å…¥ï¼šä¿¡å·å¹…åº¦è¶…è¿‡amp_binsèŒƒå›´
   - æœŸæœ›ï¼šè‡ªåŠ¨æ‰©å±•å¹…åº¦èŒƒå›´æˆ–æˆªæ–­å¹¶è­¦å‘Š

5. **æ—¶é—´æˆ³ä¸è¿ç»­**ï¼š
   - è¾“å…¥ï¼šæ—¶é—´æˆ³å­˜åœ¨è·³å˜æˆ–é‡å¤
   - æœŸæœ›ï¼šæ£€æµ‹å¹¶è­¦å‘Šï¼Œå°è¯•ä¿®å¤æˆ–è·³è¿‡å¼‚å¸¸ç‚¹

**å‚æ•°é…ç½®**ï¼š
```yaml
boundary_tests:
  - name: short_data
    ui_count: 1000
    expect_warning: true
  - name: single_ui
    ui_count: 1
    expect_exception: true
  - name: constant_signal
    signal_type: dc
    expect_eye_height: 0
  - name: amplitude_overflow
    amplitude: 2.0  # è¶…è¿‡é»˜è®¤èŒƒå›´
    expect_warning: true
  - name: timestamp_discontinuity
    gap_ratio: 0.1  # 10%çš„æ—¶é—´æˆ³ç¼ºå¤±
    expect_warning: true

eye:
  ui: 2.5e-11
  ui_bins: 128
  amp_bins: 128
```

**éªŒè¯ç‚¹**ï¼š
- æ‰€æœ‰è¾¹ç•Œåœºæ™¯å‡èƒ½è¢«æ­£ç¡®å¤„ç† (æ— å´©æºƒ)
- è­¦å‘Šä¿¡æ¯æ¸…æ™°æ˜ç¡®ï¼ŒæŒ‡ç¤ºé—®é¢˜åŸå› 
- å¼‚å¸¸åœºæ™¯è¿”å›æœ‰æ„ä¹‰çš„é”™è¯¯ç æˆ–ç‰¹æ®Šå€¼ (å¦‚NaN)
- æ—¥å¿—è®°å½•å®Œæ•´ï¼Œä¾¿äºé—®é¢˜è¯Šæ–­

#### 4.3.6 å›å½’éªŒè¯æµ‹è¯• (REGRESSION_VALIDATION)

**åœºæ™¯æè¿°**ï¼š
ä¸å‚è€ƒç»“æœè¿›è¡Œè‡ªåŠ¨å¯¹æ¯”ï¼Œç¡®ä¿ä»£ç ä¿®æ”¹ä¸å¼•å…¥å›å½’é—®é¢˜ï¼Œç»´æŠ¤ä»£ç è´¨é‡ã€‚

**è¾“å…¥æ•°æ®ç‰¹å¾**ï¼š
- ä½¿ç”¨Goldenæ•°æ®é›†ï¼šé¢„ç”Ÿæˆçš„æ ‡å‡†æ³¢å½¢æ–‡ä»¶
- æ•°æ®é€Ÿç‡ï¼š10Gbps, 25Gbps, 56Gbpsä¸‰ç»„
- åŒ…å«å·²çŸ¥çš„å‚è€ƒæŒ‡æ ‡ (çœ¼é«˜ã€çœ¼å®½ã€RJã€DJç­‰)

**å‚æ•°é…ç½®**ï¼š
```yaml
regression:
  golden_data:
    - rate: 10Gbps
      file: golden_10g.dat
      reference_metrics: ref_10g.json
    - rate: 25Gbps
      file: golden_25g.dat
      reference_metrics: ref_25g.json
    - rate: 56Gbps
      file: golden_56g.dat
      reference_metrics: ref_56g.json

  tolerance:
    eye_height: 2%  # ç›¸å¯¹è¯¯å·®å®¹å¿åº¦
    eye_width: 3%
    rj_sigma: 5%
    dj_pp: 4%
    tj_at_ber: 3%

eye:
  ui_bins: 128
  amp_bins: 128
  measure_length: auto
  target_ber: 1e-12
  sampling: phase-lock
```

**éªŒè¯ç‚¹**ï¼š
- æ‰€æœ‰æŒ‡æ ‡ä¸å‚è€ƒå€¼åå·®åœ¨å®¹å¿åº¦èŒƒå›´å†…
- ç”ŸæˆHTMLæ ¼å¼çš„å›å½’æŠ¥å‘Šï¼ŒåŒ…å«æŒ‡æ ‡å¯¹æ¯”è¡¨æ ¼å’Œè¶‹åŠ¿å›¾
- å·®å¼‚è¶…è¿‡é˜ˆå€¼æ—¶æ ‡è®°ä¸ºå¤±è´¥ï¼Œå¹¶é«˜äº®æ˜¾ç¤ºå¼‚å¸¸æŒ‡æ ‡
- æ”¯æŒå†å²ç»“æœå¯¹æ¯”ï¼Œæ˜¾ç¤ºæ€§èƒ½å˜åŒ–è¶‹åŠ¿

**å›å½’æŠ¥å‘Šå†…å®¹**ï¼š
- æµ‹è¯•æ‰§è¡Œæ‘˜è¦ (é€šè¿‡/å¤±è´¥æ•°é‡)
- æŒ‡æ ‡å¯¹æ¯”è¡¨æ ¼ (å®æµ‹å€¼ã€å‚è€ƒå€¼ã€åå·®ã€çŠ¶æ€)
- åå·®è¶‹åŠ¿å›¾ (å†å²æ•°æ®å¯è§†åŒ–)
- å¤±è´¥é¡¹è¯¦ç»†åˆ†æ (å·®å¼‚åŸå› è¯Šæ–­)

### 4.4 æµ‹è¯•æ¡†æ¶æ‹“æ‰‘

EyeAnalyzeræµ‹è¯•æ¡†æ¶çš„ç»„ä»¶è¿æ¥å…³ç³»å¦‚ä¸‹ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Test Driver (pytest)                              â”‚
â”‚  - è§£ææµ‹è¯•é…ç½® (YAML)                                               â”‚
â”‚  - è°ƒåº¦æµ‹è¯•åœºæ™¯                                                      â”‚
â”‚  - æ”¶é›†æµ‹è¯•ç»“æœ                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                 â”‚                â”‚              â”‚              â”‚
        â–¼                 â–¼                â–¼              â–¼              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Waveform      â”‚  â”‚ EyeAnalyzer  â”‚  â”‚ Reference  â”‚  â”‚ Result   â”‚  â”‚ Report   â”‚
â”‚ Generator     â”‚  â”‚ Instance     â”‚  â”‚ Calculator â”‚  â”‚ Validatorâ”‚  â”‚ Generatorâ”‚
â”‚               â”‚  â”‚              â”‚  â”‚            â”‚  â”‚          â”‚          â”‚
â”‚ - PRBSç”Ÿæˆ    â”‚  â”‚ - çœ¼å›¾æ„å»º   â”‚  â”‚ - ç†è®ºçœ¼é«˜ â”‚  â”‚ - æŒ‡æ ‡å¯¹æ¯”â”‚  â”‚ - HTML   â”‚
â”‚ - æŠ–åŠ¨æ³¨å…¥    â”‚  â”‚ - æŠ–åŠ¨åˆ†è§£   â”‚  â”‚ - ç†è®ºçœ¼å®½ â”‚  â”‚ - å®¹å¿åº¦æ£€æŸ¥â”‚  â”‚ - CSV    â”‚
â”‚ - å™ªå£°æ·»åŠ     â”‚  â”‚ - æŒ‡æ ‡æå–   â”‚  â”‚ - ç†è®ºRJ   â”‚  â”‚ - å›å½’æ£€æµ‹â”‚  â”‚ - JSON   â”‚
â”‚ - ä¿¡é“æ¨¡æ‹Ÿ    â”‚  â”‚ - å¯è§†åŒ–     â”‚  â”‚ - ç†è®ºDJ   â”‚  â”‚          â”‚  â”‚          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
        â”‚                  â”‚                â”‚              â”‚               â”‚
        â”‚                  â”‚                â”‚              â”‚               â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚          Data Bus               â”‚
        â”‚  - æ³¢å½¢æ•°æ® (numpy array)       â”‚
        â”‚  - é…ç½®å‚æ•° (dict)              â”‚
        â”‚  - å‚è€ƒæŒ‡æ ‡ (dict)              â”‚
        â”‚  - å®æµ‹ç»“æœ (dict)              â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ç»„ä»¶äº¤äº’æµç¨‹**ï¼š

1. **æµ‹è¯•é©±åŠ¨å™¨**è¯»å–YAMLé…ç½®æ–‡ä»¶ï¼Œå®ä¾‹åŒ–æ³¢å½¢ç”Ÿæˆå™¨å’ŒEyeAnalyzer
2. **æ³¢å½¢ç”Ÿæˆå™¨**æ ¹æ®åœºæ™¯é…ç½®ç”Ÿæˆæ¨¡æ‹Ÿæ³¢å½¢æ•°æ®ï¼ˆæˆ–åŠ è½½Goldenæ•°æ®ï¼‰
3. **EyeAnalyzerå®ä¾‹**æ¥æ”¶æ³¢å½¢å’Œå‚æ•°ï¼Œæ‰§è¡Œåˆ†æå¹¶ç”ŸæˆæŒ‡æ ‡å’Œå›¾åƒ
4. **å‚è€ƒè®¡ç®—å™¨**åŸºäºè¾“å…¥å‚æ•°è®¡ç®—ç†è®ºå‚è€ƒå€¼ï¼ˆç”¨äºè¾¹ç•Œåœºæ™¯ï¼‰
5. **ç»“æœéªŒè¯å™¨**å¯¹æ¯”å®æµ‹æŒ‡æ ‡ä¸å‚è€ƒå€¼/å®¹å¿åº¦ï¼Œåˆ¤å®šæµ‹è¯•é€šè¿‡/å¤±è´¥
6. **æŠ¥å‘Šç”Ÿæˆå™¨**æ±‡æ€»æ‰€æœ‰æµ‹è¯•ç»“æœï¼Œç”ŸæˆHTML/CSV/JSONæ ¼å¼çš„ç»¼åˆæŠ¥å‘Š

**æ•°æ®æµè¯´æ˜**ï¼š
- æ³¢å½¢æ•°æ®ä»¥numpyæ•°ç»„å½¢å¼åœ¨ç»„ä»¶é—´ä¼ é€’ï¼Œé¿å…é¢‘ç¹çš„I/Oæ“ä½œ
- é…ç½®å‚æ•°å°è£…ä¸ºå­—å…¸å¯¹è±¡ï¼Œæ”¯æŒåµŒå¥—ç»“æ„å’Œç±»å‹æ£€æŸ¥
- åˆ†æç»“æœé‡‡ç”¨æ ‡å‡†åŒ–Schemaï¼Œä¾¿äºåºåˆ—åŒ–å’Œè·¨ç»„ä»¶ä¼ è¾“

### 4.5 è¾…åŠ©æ¨¡å—è¯´æ˜

#### WaveformGenerator - æ³¢å½¢ç”Ÿæˆå™¨

åŠŸèƒ½ï¼šç”Ÿæˆé«˜ä¿çœŸæµ‹è¯•æ³¢å½¢ï¼Œæ”¯æŒå¤šç§ä¿¡å·ç‰¹å¾å’ŒæŸä¼¤æ¨¡å‹ã€‚

**æ ¸å¿ƒåŠŸèƒ½**ï¼š
- **PRBSåºåˆ—ç”Ÿæˆ**ï¼šæ”¯æŒPRBS7/9/15/23/31ï¼ŒåŸºäºLFSRå®ç°
- **æŠ–åŠ¨æ³¨å…¥**ï¼š
  - éšæœºæŠ–åŠ¨ï¼ˆRJï¼‰ï¼šé«˜æ–¯åˆ†å¸ƒï¼Œå¯é…ç½®æ ‡å‡†å·®
  - ç¡®å®šæ€§æŠ–åŠ¨ï¼ˆDJï¼‰ï¼šæ­£å¼¦è°ƒåˆ¶ï¼Œå¯é…ç½®é¢‘ç‡å’Œå¹…åº¦
  - å‘¨æœŸæ€§æŠ–åŠ¨ï¼ˆPJï¼‰ï¼šæ”¯æŒå¤šéŸ³è°ƒPJæ³¨å…¥
- **å™ªå£°æ·»åŠ **ï¼šé«˜æ–¯ç™½å™ªå£°ï¼Œå¯é…ç½®SNRæˆ–å™ªå£°åŠŸç‡
- **ä¿¡é“æ¨¡æ‹Ÿ**ï¼šSå‚æ•°å·ç§¯æˆ–ç®€å•çš„RCä½é€šæ¨¡å‹
- **éçº¿æ€§å¤±çœŸ**ï¼šè½¯é¥±å’Œã€å¹…åº¦å‹ç¼©ç­‰æ•ˆåº”

**é…ç½®æ¥å£**ï¼š
```python
config = {
    'data_rate': 10e9,
    'ui_count': 100000,
    'prbs_type': 'PRBS31',
    'jitter': {
        'rj_sigma': 5e-12,
        'dj_pp': 10e-12,
        'pj_freq': [5e6, 10e6],
        'pj_pp': [2e-12, 1e-12]
    },
    'noise': {
        'snr': 25,  # dB
        'seed': 12345
    },
    'channel': {
        'type': 'rc',
        'bandwidth': 20e9
    }
}
```

**è¾“å‡ºæ ¼å¼**ï¼šnumpyæ•°ç»„ï¼Œshapeä¸º(N, 2)ï¼Œåˆ—ï¼štime(s), value(V)

#### ReferenceCalculator - å‚è€ƒæŒ‡æ ‡è®¡ç®—å™¨

åŠŸèƒ½ï¼šåŸºäºè¾“å…¥å‚æ•°è®¡ç®—ç†è®ºå‚è€ƒæŒ‡æ ‡ï¼Œç”¨äºéªŒè¯EyeAnalyzerç»“æœçš„å‡†ç¡®æ€§ã€‚

**è®¡ç®—èƒ½åŠ›**ï¼š
- **ç†è®ºçœ¼é«˜**ï¼šæ ¹æ®ä¿¡å·æ‘†å¹…å’Œå™ªå£°æ°´å¹³è®¡ç®—æœŸæœ›çœ¼é«˜
- **ç†è®ºçœ¼å®½**ï¼šåŸºäºæŠ–åŠ¨æˆåˆ†è®¡ç®—æœŸæœ›çœ¼å®½
- **RJç†è®ºå€¼**ï¼šç›´æ¥è¿”å›æ³¨å…¥çš„RJ_sigma
- **DJç†è®ºå€¼**ï¼šç»¼åˆæ•°æ®ç›¸å…³æŠ–åŠ¨å’Œå‘¨æœŸæ€§æŠ–åŠ¨
- **TJç†è®ºå€¼**ï¼šåŸºäºåŒç‹„æ‹‰å…‹æ¨¡å‹è®¡ç®—TJ@BER

**æ•°å­¦æ¨¡å‹**ï¼š
```
ç†è®ºçœ¼é«˜ = V_swing - 3Ã—Ïƒ_noise (è€ƒè™‘å™ªå£°å‹ç¼©æ•ˆåº”)
ç†è®ºçœ¼å®½ = UI - DJ_pp - 2Ã—Q(BER)Ã—RJ_sigma
TJ_ç†è®º = DJ_æ³¨å…¥ + 2Ã—Q(BER)Ã—RJ_æ³¨å…¥
```

**åº”ç”¨åœºæ™¯**ï¼šä¸»è¦ç”¨äºJITTER_DECOMPOSITIONå’ŒBOUNDARY_CONDITIONåœºæ™¯ï¼Œæä¾›å®¢è§‚çš„å‚è€ƒåŸºå‡†ã€‚

#### ResultValidator - ç»“æœéªŒè¯å™¨

åŠŸèƒ½ï¼šè‡ªåŠ¨åŒ–éªŒè¯EyeAnalyzerè¾“å‡ºç»“æœçš„å‡†ç¡®æ€§å’Œä¸€è‡´æ€§ã€‚

**éªŒè¯è§„åˆ™**ï¼š
- **æ•°å€¼èŒƒå›´æ£€æŸ¥**ï¼šæŒ‡æ ‡æ˜¯å¦åœ¨ç‰©ç†åˆç†èŒƒå›´å†…ï¼ˆå¦‚çœ¼é«˜>0, çœ¼å®½>0ï¼‰
- **å®¹å¿åº¦å¯¹æ¯”**ï¼šå®æµ‹å€¼ä¸å‚è€ƒå€¼çš„ç›¸å¯¹åå·®æ˜¯å¦åœ¨å®¹å¿åº¦å†…
- **ä¸€è‡´æ€§æ£€æŸ¥**ï¼šç›¸å…³æŒ‡æ ‡é—´çš„æ•°å­¦å…³ç³»æ˜¯å¦æˆç«‹ï¼ˆå¦‚TJ â‰ˆ DJ + 14Ã—RJï¼‰
- **å›å½’æ£€æµ‹**ï¼šä¸å†å²åŸºå‡†å¯¹æ¯”ï¼Œæ£€æµ‹æ€§èƒ½é€€åŒ–

**è¾“å‡ºæ ¼å¼**ï¼š
```python
validation_result = {
    'test_name': 'basic_eye_analysis',
    'passed': True,
    'checks': [
        {'item': 'eye_height', 'value': 0.75, 'reference': 0.78, 
         'deviation': '-3.8%', 'tolerance': '5%', 'status': 'PASS'},
        {'item': 'rj_sigma', 'value': 5.2e-12, 'reference': 5.0e-12,
         'deviation': '+4.0%', 'tolerance': '10%', 'status': 'PASS'}
    ],
    'summary': '2/2 checks passed'
}
```

#### PerformanceProfiler - æ€§èƒ½åˆ†æå·¥å…·

åŠŸèƒ½ï¼šç›‘æ§EyeAnalyzerçš„æ‰§è¡Œæ€§èƒ½å’Œèµ„æºå ç”¨ã€‚

**ç›‘æ§æŒ‡æ ‡**ï¼š
- **æ‰§è¡Œæ—¶é—´**ï¼šå„é˜¶æ®µè€—æ—¶ï¼ˆæ•°æ®åŠ è½½ã€çœ¼å›¾æ„å»ºã€æŠ–åŠ¨åˆ†è§£ï¼‰
- **å†…å­˜å ç”¨**ï¼šå³°å€¼å†…å­˜å’Œå†…å­˜å¢é•¿æ›²çº¿
- **CPUåˆ©ç”¨ç‡**ï¼šå¤šæ ¸å¹¶è¡Œæ•ˆç‡åˆ†æ
- **I/Oååé‡**ï¼šæ•°æ®è¯»å†™é€Ÿåº¦

**åˆ†ææ–¹æ³•**ï¼š
- ä½¿ç”¨`cProfile`è¿›è¡Œå‡½æ•°çº§æ€§èƒ½å‰–æ
- ä½¿ç”¨`memory_profiler`ç›‘æ§å†…å­˜ä½¿ç”¨
- ç”Ÿæˆç«ç„°å›¾ï¼ˆFlame Graphï¼‰è¯†åˆ«æ€§èƒ½ç“¶é¢ˆ
- è¾“å‡ºæ€§èƒ½åŸºå‡†æŠ¥å‘Šï¼Œæ”¯æŒå†å²è¶‹åŠ¿å¯¹æ¯”

**åº”ç”¨åœºæ™¯**ï¼šPERFORMANCE_STRESSæµ‹è¯•çš„æ ¸å¿ƒå·¥å…·ï¼Œå¸®åŠ©è¯†åˆ«ä¼˜åŒ–æœºä¼šã€‚

#### ReportGenerator - æŠ¥å‘Šç”Ÿæˆå™¨

åŠŸèƒ½ï¼šæ±‡æ€»æµ‹è¯•ç»“æœï¼Œç”Ÿæˆå¤šæ ¼å¼ç»¼åˆæŠ¥å‘Šã€‚

**æ”¯æŒæ ¼å¼**ï¼š
- **HTMLæŠ¥å‘Š**ï¼šäº¤äº’å¼ç½‘é¡µï¼ŒåŒ…å«è¡¨æ ¼ã€å›¾è¡¨å’Œè¯¦ç»†ä¿¡æ¯
- **CSVå¯¼å‡º**ï¼šçº¯æ–‡æœ¬è¡¨æ ¼ï¼Œä¾¿äºæ•°æ®å¤„ç†å’Œåˆ†æ
- **JSONç»“æ„åŒ–æ•°æ®**ï¼šæœºå™¨å¯è¯»æ ¼å¼ï¼Œæ”¯æŒCI/CDé›†æˆ
- **JUnit XML**ï¼šå…¼å®¹Jenkinsç­‰CIå·¥å…·çš„æµ‹è¯•ç»“æœæ ¼å¼

**æŠ¥å‘Šå†…å®¹**ï¼š
- æµ‹è¯•æ‰§è¡Œæ‘˜è¦ï¼ˆé€šè¿‡/å¤±è´¥/è·³è¿‡æ•°é‡ï¼‰
- æŒ‡æ ‡å¯¹æ¯”è¡¨æ ¼ï¼ˆå®æµ‹å€¼ã€å‚è€ƒå€¼ã€åå·®ã€çŠ¶æ€ï¼‰
- å¯è§†åŒ–å›¾è¡¨ï¼ˆçœ¼å›¾ã€PSDã€PDFã€æ€§èƒ½è¶‹åŠ¿ï¼‰
- å¤±è´¥é¡¹è¯¦ç»†åˆ†æå’Œè¯Šæ–­å»ºè®®
- æ€§èƒ½åŸºå‡†å’Œå†å²è¶‹åŠ¿

**é…ç½®é€‰é¡¹**ï¼š
```python
report_config = {
    'output_dir': 'test_reports',
    'include_charts': True,
    'chart_format': 'svg',  # æˆ– 'png'
    'compare_with_history': True,
    'history_depth': 10  # å¯¹æ¯”æœ€è¿‘10æ¬¡ç»“æœ
}
```

## 5. ä»¿çœŸç»“æœåˆ†æ

### 5.1 ç»Ÿè®¡æŒ‡æ ‡è¯´æ˜

EyeAnalyzer ç”Ÿæˆçš„æ ¸å¿ƒæŒ‡æ ‡å¯åˆ†ä¸ºçœ¼å›¾å‡ ä½•å‚æ•°ã€æŠ–åŠ¨åˆ†è§£å‚æ•°å’Œä¿¡å·è´¨é‡å‚æ•°ä¸‰å¤§ç±»ï¼š

| æŒ‡æ ‡ç±»åˆ« | æŒ‡æ ‡åç§° | è®¡ç®—æ–¹æ³• | ç‰©ç†æ„ä¹‰ | å…¸å‹å€¼èŒƒå›´ |
|---------|---------|---------|---------|-----------|
| **çœ¼å›¾å‡ ä½•å‚æ•°** | çœ¼é«˜ (Eye Height) | V_top(Ï†_opt) - V_bottom(Ï†_opt) | æœ€ä½³é‡‡æ ·ç‚¹çš„å‚ç›´å¼€å£ï¼Œåæ˜ å™ªå£°è£•é‡ | 0.5~1.0 V (å–å†³äºæ‘†å¹…) |
| | çœ¼å®½ (Eye Width) | Ï†_right(V_th) - Ï†_left(V_th) | æœ€ä½³é˜ˆå€¼å¤„çš„æ°´å¹³å¼€å£ï¼Œåæ˜ æ—¶åºè£•é‡ | 0.7~1.0 UI |
| | å¼€å£é¢ç§¯ (Eye Area) | âˆ«âˆ«_EyeOpening H(Ï†,V) dÏ†dV | çœ¼å›¾å¼€å£åŒºåŸŸç§¯åˆ†ï¼Œç»¼åˆè´¨é‡æŒ‡æ ‡ | 0.3~0.8 VÂ·UI |
| | çº¿æ€§åº¦è¯¯å·® (Linearity Error) | RMS(V_actual - V_linear_fit) | çœ¼å›¾å¼€å£åŒºåŸŸçº¿æ€§æ‹Ÿåˆæ®‹å·® | < 5% (å½’ä¸€åŒ–) |
| **æŠ–åŠ¨åˆ†è§£å‚æ•°** | éšæœºæŠ–åŠ¨ (RJ) | é«˜æ–¯åˆ†å¸ƒæ ‡å‡†å·® Ïƒ_RJ | éšæœºå™ªå£°å¼•èµ·çš„æ—¶é—´ä¸ç¡®å®šæ€§ | 1e-12 ~ 1e-11 s |
| | ç¡®å®šæ€§æŠ–åŠ¨ (DJ) | åŒå³°åˆ†å¸ƒé—´è· Î¼_1 - Î¼_0 | å¯é¢„æµ‹çš„ç³»ç»Ÿæ€§æ—¶åºåå·® | 5e-12 ~ 5e-11 s |
| | æ€»æŠ–åŠ¨ (TJ@BER) | DJ + 2Ã—Q(BER)Ã—RJ | ç›®æ ‡è¯¯ç ç‡ä¸‹çš„æ€»æ—¶åºé¢„ç®— | DJ + 14Ã—RJ (BER=1e-12) |
| **ä¿¡å·è´¨é‡å‚æ•°** | ä¿¡å·å‡å€¼ (Mean) | æ‰€æœ‰é‡‡æ ·ç‚¹ç®—æœ¯å¹³å‡ | ä¿¡å·ç›´æµåˆ†é‡ | 0 V (å·®åˆ†ä¿¡å·) |
| | RMSå€¼ | sqrt(Î£xÂ²/N) | ä¿¡å·æœ‰æ•ˆå€¼/åŠŸç‡ | æ‘†å¹…/âˆš2 |
| | å³°å³°å€¼ (Peak-to-Peak) | max(V) - min(V) | ä¿¡å·åŠ¨æ€èŒƒå›´ | 0.8~1.2 V |
| | PSDå³°å€¼ | max(Pxx(f)) | åŠŸç‡è°±å¯†åº¦å³°å€¼ | -40 ~ -20 dBm/Hz |
| | PDFç†µå€¼ | -âˆ«p(x)log(p(x))dx | ä¿¡å·ä¸ç¡®å®šæ€§åº¦é‡ | 1.5~3.0 bits |

**æŒ‡æ ‡é—´å…³ç³»éªŒè¯**ï¼š
- TJ@BER â‰ˆ DJ + 14Ã—RJ (BER=1e-12æ—¶ï¼ŒQâ‰ˆ7.03)
- çœ¼å®½ â‰ˆ UI - TJ@BER (ç†æƒ³æƒ…å†µä¸‹)
- çœ¼é«˜ â‰ˆ V_swing - 6Ã—Ïƒ_noise (6Ïƒå‡†åˆ™)

### 5.2 å…¸å‹æµ‹è¯•ç»“æœè§£è¯»

#### BASIC_EYE_ANALYSIS - åŸºç¡€çœ¼å›¾åˆ†æç»“æœ

**æµ‹è¯•é…ç½®**ï¼š10Gbps PRBS-31ä¿¡å·ï¼Œ800mVæ‘†å¹…ï¼Œ5mVå™ªå£°ï¼Œmeasure_length=2.5Î¼s

**æœŸæœ›ç»“æœèŒƒå›´**ï¼š
- çœ¼é«˜ï¼š0.72~0.80 V (è¾“å…¥æ‘†å¹…800mV - å™ªå£°å‹ç¼©)
- çœ¼å®½ï¼š0.92~0.98 UI (ç†æƒ³1UI - æŠ–åŠ¨æŸè€—)
- å¼€å£é¢ç§¯ï¼š0.45~0.65 VÂ·UI (çœ¼é«˜Ã—çœ¼å®½Ã—å¡«å……å› å­)
- RJ_sigmaï¼š4.5~5.5e-12 s (ä¸æ³¨å…¥5e-12sä¸€è‡´)
- DJ_ppï¼š0.8~1.2e-11 s (PRBS-31æ•°æ®ç›¸å…³æŠ–åŠ¨)
- TJ@1e-12ï¼š2.8~3.5e-11 s (DJ + 14Ã—RJ)

**ç»“æœåˆ†ææ–¹æ³•**ï¼š
1. **çœ¼å›¾å¯è§†åŒ–æ£€æŸ¥**ï¼šçœ¼å›¾åº”å‘ˆç°æ¸…æ™°çš„"çœ¼ç›"å½¢çŠ¶ï¼Œäº¤å‰åŒºåŸŸé›†ä¸­ï¼Œä¸Šä¸‹è¾¹ç•Œå¹³æ»‘
2. **æŒ‡æ ‡åˆç†æ€§éªŒè¯**ï¼šçœ¼é«˜+å™ªå£°<è¾“å…¥æ‘†å¹…ï¼Œçœ¼å®½+TJâ‰ˆ1UI
3. **ç»Ÿè®¡æ”¶æ•›æ€§**ï¼šmeasure_lengthå¢åŠ 10å€ï¼ŒæŒ‡æ ‡å˜åŒ–<3%
4. **ä¸å‚è€ƒå€¼å¯¹æ¯”**ï¼šä¸ç†è®ºè®¡ç®—å€¼åå·®<10%

**å¼‚å¸¸è¯Šæ–­**ï¼š
- çœ¼é«˜åä½ï¼šæ£€æŸ¥å™ªå£°æ°´å¹³ã€ä¿¡é“è¡°å‡ã€å‡è¡¡å™¨é…ç½®
- çœ¼å®½åå°ï¼šæ£€æŸ¥æŠ–åŠ¨æ³¨å…¥ã€CDRé”å®šã€é‡‡æ ·ç›¸ä½
- å¼€å£é¢ç§¯å°ï¼šç»¼åˆä¿¡å™ªæ¯”ä¸è¶³ï¼Œéœ€ä¼˜åŒ–é“¾è·¯å‚æ•°

#### JITTER_DECOMPOSITION - æŠ–åŠ¨åˆ†è§£ç²¾åº¦éªŒè¯ç»“æœ

**æµ‹è¯•é…ç½®**ï¼šPRBS-15ï¼Œæ³¨å…¥RJ=10e-12sï¼ŒDJ=20e-12sï¼ŒPJ=5e-12s@5MHz

**æœŸæœ›åˆ†è§£ç²¾åº¦**ï¼š
- RJæå–è¯¯å·®ï¼š< Â±15% (8.5~11.5e-12s)
- DJæå–è¯¯å·®ï¼š< Â±10% (18~22e-12s)
- TJè®¡ç®—ç²¾åº¦ï¼š< Â±8% (ç†è®ºå€¼34e-12s)
- PJè¯†åˆ«ï¼šé¢‘è°±åˆ†æåº”åœ¨5MHzå¤„å‡ºç°å³°å€¼

**ç»“æœåˆ†ææ–¹æ³•**ï¼š
1. **çœ¼å›¾äº¤å‰åŒºåŸŸæ”¾å¤§**ï¼šäº¤å‰ç‚¹åº”å‘ˆç°æ˜æ˜¾çš„åŒå³°åˆ†å¸ƒ
2. **PDFæ‹Ÿåˆè´¨é‡**ï¼šåŒç‹„æ‹‰å…‹æ¨¡å‹æ‹Ÿåˆä¼˜åº¦RÂ²>0.95
3. **PSDé¢‘è°±éªŒè¯**ï¼šå‘¨æœŸæ€§æŠ–åŠ¨åº”åœ¨å¯¹åº”é¢‘ç‡å‡ºç°è°±çº¿
4. **å¤šç»„æ•°æ®ä¸€è‡´æ€§**ï¼šç›¸åŒæ³¨å…¥æ¡ä»¶ä¸‹ï¼Œ5æ¬¡æµ‹é‡æ ‡å‡†å·®<5%

**è¯¯å·®æ¥æºåˆ†æ**ï¼š
- RJé«˜ä¼°ï¼šå™ªå£°éé«˜æ–¯ã€é‡åŒ–è¯¯å·®ã€æ ·æœ¬ä¸è¶³
- DJä½ä¼°ï¼šåŒå³°åˆ†ç¦»åº¦ä¸å¤Ÿã€RJå™ªå£°æ©ç›–
- TJåå·®ï¼šQå‡½æ•°è¿‘ä¼¼ã€BERå¤–æ¨è¯¯å·®

#### SAMPLING_STRATEGY - é‡‡æ ·ç­–ç•¥å¯¹æ¯”ç»“æœ

**æµ‹è¯•é…ç½®**ï¼š25Gbpsä¿¡å·ï¼Œä¸‰ç§SNRæ¡ä»¶(30dB/20dB/15dB)

**æ€§èƒ½å¯¹æ¯”çŸ©é˜µ**ï¼š

| é‡‡æ ·ç­–ç•¥ | é«˜SNR(30dB) | ä¸­SNR(20dB) | ä½SNR(15dB) | é²æ£’æ€§è¯„åˆ† |
|---------|------------|------------|------------|-----------|
| **phase-lock** | çœ¼é«˜: 0.78V (Â±2%) | çœ¼é«˜: 0.75V (Â±3%) | çœ¼é«˜: 0.70V (Â±5%) | â˜…â˜…â˜…â˜…â˜… |
| | çœ¼å®½: 0.96UI (Â±1%) | çœ¼å®½: 0.93UI (Â±2%) | çœ¼å®½: 0.88UI (Â±4%) | |
| **peak** | çœ¼é«˜: 0.79V (Â±1%) | çœ¼é«˜: 0.73V (Â±5%) | çœ¼é«˜: 0.61V (Â±12%) | â˜…â˜…â˜…â˜†â˜† |
| | çœ¼å®½: 0.96UI (Â±1%) | çœ¼å®½: 0.92UI (Â±3%) | çœ¼å®½: 0.82UI (Â±8%) | |
| **zero-cross** | çœ¼é«˜: 0.77V (Â±3%) | çœ¼é«˜: 0.68V (Â±8%) | çœ¼é«˜: 0.45V (Â±20%) | â˜…â˜…â˜†â˜†â˜† |
| | çœ¼å®½: 0.95UI (Â±2%) | çœ¼å®½: 0.89UI (Â±5%) | çœ¼å®½: 0.71UI (Â±12%) | |

**è§£è¯»ç»“è®º**ï¼š
- **phase-lock**ï¼šåœ¨æ‰€æœ‰æ¡ä»¶ä¸‹æœ€ç¨³å®šï¼Œå˜åŒ–ç‡<5%ï¼Œæ¨èä½œä¸ºé»˜è®¤ç­–ç•¥
- **peak**ï¼šé«˜SNRä¸‹ç²¾åº¦æœ€é«˜ï¼Œä½†ä½SNRä¸‹æ€§èƒ½æ€¥å‰§ä¸‹é™ï¼Œé€‚åˆé«˜è´¨é‡ä¿¡å·
- **zero-cross**ï¼šå¯¹å™ªå£°æœ€æ•æ„Ÿï¼Œä»…é€‚ç”¨äºæ—¶é’Ÿæ¢å¤éªŒè¯åœºæ™¯

#### PERFORMANCE_STRESS - æ€§èƒ½åŸºå‡†æµ‹è¯•ç»“æœ

**æµ‹è¯•é…ç½®**ï¼š56Gbpsä¿¡å·ï¼Œæ•°æ®è§„æ¨¡ä»100K UIåˆ°50M UI

**æ€§èƒ½æŒ‡æ ‡è¦æ±‚**ï¼š

| æ•°æ®è§„æ¨¡ | åˆ†ææ—¶é—´ | å†…å­˜å³°å€¼ | ååé‡ | å†…å­˜æ•ˆç‡ |
|---------|---------|---------|--------|---------|
| 100K UI | < 3s | < 100MB | > 500k UI/s | < 200 bytes/UI |
| 1M UI | < 30s | < 500MB | > 500k UI/s | < 200 bytes/UI |
| 10M UI | < 5min | < 2GB | > 500k UI/s | < 200 bytes/UI |
| 50M UI | < 30min | < 10GB | > 500k UI/s | < 200 bytes/UI |

**æ€§èƒ½ç“¶é¢ˆåˆ†æ**ï¼š
1. **æ•°æ®åŠ è½½é˜¶æ®µ**ï¼šI/Oå¸¦å®½é™åˆ¶ï¼Œå»ºè®®SSDå­˜å‚¨
2. **çœ¼å›¾æ„å»ºé˜¶æ®µ**ï¼šCPUå¯†é›†å‹ï¼Œæ”¯æŒå¤šæ ¸å¹¶è¡ŒåŠ é€Ÿ
3. **æŠ–åŠ¨åˆ†è§£é˜¶æ®µ**ï¼šæ•°å€¼è®¡ç®—ï¼Œå¯ä½¿ç”¨GPUåŠ é€Ÿï¼ˆå¯é€‰ï¼‰
4. **å¯è§†åŒ–é˜¶æ®µ**ï¼šå›¾åƒæ¸²æŸ“ï¼Œå¯é™é‡‡æ ·æˆ–å¼‚æ­¥ç”Ÿæˆ

**ä¼˜åŒ–å»ºè®®**ï¼š
- å¤§æ•°æ®é›†ä½¿ç”¨`measure_length`æˆªå–å…³é”®æ®µ
- é™ä½`ui_bins`/`amp_bins`åˆ†è¾¨ç‡æƒè¡¡ç²¾åº¦ä¸é€Ÿåº¦
- å…³é—­`save_csv_data`å‡å°‘I/Oå¼€é”€
- å¯ç”¨`hist2d_normalize=False`èŠ‚çœå½’ä¸€åŒ–æ—¶é—´

#### BOUNDARY_CONDITION - è¾¹ç•Œæ¡ä»¶å¤„ç†ç»“æœ

**å…³é”®è¾¹ç•Œåœºæ™¯éªŒè¯**ï¼š

1. **çŸ­æ•°æ®æµ‹è¯•** (1,000 UI)
   - ç»“æœï¼šç”Ÿæˆè­¦å‘Š"Insufficient data for stable statistics"
   - çœ¼å›¾ï¼šè½®å»“æ¨¡ç³Šï¼ŒæŒ‡æ ‡ç½®ä¿¡åº¦<70%
   - å»ºè®®ï¼šmeasure_lengthåº”>10,000 UI

2. **å•å‘¨æœŸæ•°æ®** (1 UI)
   - ç»“æœï¼šæŠ›å‡ºå¼‚å¸¸"Data length < 100 UI, analysis aborted"
   - ä¿æŠ¤æœºåˆ¶ï¼šé˜²æ­¢é™¤é›¶é”™è¯¯å’Œå†…å­˜æº¢å‡º

3. **æ’å®šä¿¡å·** (DC)
   - ç»“æœï¼šçœ¼é«˜=0, çœ¼å®½=0, RJ/DJ=NaN
   - é”™è¯¯ç ï¼š`EYE_OPENING_ZERO`
   - è¯Šæ–­æç¤ºï¼šæ£€æŸ¥ä¿¡å·æºæˆ–é“¾è·¯è¿æ¥

4. **å¹…åº¦æº¢å‡º** (>2V)
   - ç»“æœï¼šè‡ªåŠ¨æ‰©å±•amp_binsèŒƒå›´ï¼Œè­¦å‘Š"Amplitude range extended"
   - ä¿æŠ¤æœºåˆ¶ï¼šåŠ¨æ€è°ƒæ•´ç›´æ–¹å›¾è¾¹ç•Œ

5. **æ—¶é—´æˆ³ä¸è¿ç»­**
   - ç»“æœï¼šè­¦å‘Š"Timestamp gap detected at t=xxxs"
   - å¤„ç†ç­–ç•¥ï¼šçº¿æ€§æ’å€¼æˆ–è·³è¿‡å¼‚å¸¸æ®µ

**é²æ£’æ€§è¯„ä¼°**ï¼šEyeAnalyzeråœ¨æ‰€æœ‰è¾¹ç•Œåœºæ™¯ä¸‹å‡æ— å´©æºƒï¼Œé”™è¯¯å¤„ç†æœºåˆ¶å®Œå–„ï¼Œç¬¦åˆç”Ÿäº§çº§å·¥å…·è¦æ±‚ã€‚

#### REGRESSION_VALIDATION - å›å½’æµ‹è¯•ç»“æœ

**å›å½’æµ‹è¯•æ ‡å‡†**ï¼š

| æŒ‡æ ‡ | å®¹å¿åº¦ | æµ‹è¯•10Gbps | æµ‹è¯•25Gbps | æµ‹è¯•56Gbps | çŠ¶æ€ |
|------|--------|-----------|-----------|-----------|------|
| çœ¼é«˜ | Â±2% | +1.2% | -0.8% | +1.5% | PASS |
| çœ¼å®½ | Â±3% | +0.5% | -1.2% | +2.1% | PASS |
| RJ | Â±5% | +2.3% | +3.1% | -1.8% | PASS |
| DJ | Â±4% | -0.9% | +2.7% | +1.3% | PASS |
| TJ | Â±3% | +1.1% | +1.8% | +0.7% | PASS |

**å›å½’è¶‹åŠ¿åˆ†æ**ï¼š
- **æ€§èƒ½é€€åŒ–æ£€æµ‹**ï¼šè‹¥æŸæ¬¡æäº¤å¯¼è‡´æŒ‡æ ‡åå·®>å®¹å¿åº¦ï¼Œæ ‡è®°ä¸ºå›å½’å¤±è´¥
- **æ€§èƒ½æå‡è¯†åˆ«**ï¼šè‹¥æŒ‡æ ‡æŒç»­ä¼˜äºå‚è€ƒå€¼ï¼Œæ›´æ–°Goldenæ•°æ®é›†
- **å†å²è¶‹åŠ¿å›¾**ï¼šç»˜åˆ¶æœ€è¿‘20æ¬¡æäº¤çš„æŒ‡æ ‡å˜åŒ–æ›²çº¿ï¼Œè¯†åˆ«é•¿æœŸè¶‹åŠ¿

**CI/CDé›†æˆ**ï¼š
- å›å½’æµ‹è¯•ä½œä¸ºGitHub Actionsçš„å¿…éœ€æ£€æŸ¥é¡¹
- å¤±è´¥æ—¶é˜»å¡PRåˆå¹¶ï¼Œè¦æ±‚å¼€å‘è€…ä¿®å¤æˆ–æ›´æ–°å‚è€ƒå€¼
- ç”ŸæˆJUnit XMLæŠ¥å‘Šï¼Œä¸CIç³»ç»Ÿæ— ç¼é›†æˆ

### 5.3 æ³¢å½¢æ•°æ®æ–‡ä»¶æ ¼å¼

#### 5.3.1 è¾“å…¥æ–‡ä»¶æ ¼å¼ (SystemC-AMS Tabular)

**æ–‡ä»¶æ‰©å±•å**ï¼š`.dat` (æ–‡æœ¬æ ¼å¼) æˆ– `.tdf` (äºŒè¿›åˆ¶æ ¼å¼ï¼Œæ€§èƒ½æ›´ä¼˜)

**æ–‡æœ¬æ ¼å¼ç¤ºä¾‹** (`results.dat`)ï¼š
```
# SystemC-AMS Tabular Trace File
# Time(s)    voltage(V)
0.000000e+00    0.000000e+00
1.000000e-11    5.234567e-03
2.000000e-11    1.234567e-01
3.000000e-11    2.345678e-01
... (N rows)
2.500000e-06    3.456789e-01
```

**æ ¼å¼è§„èŒƒ**ï¼š
- **æ³¨é‡Šè¡Œ**ï¼šä»¥`#`å¼€å¤´ï¼Œå¯åŒ…å«å…ƒæ•°æ®
- **æ•°æ®åˆ—**ï¼šè‡³å°‘2åˆ—ï¼Œç¬¬1åˆ—ä¸ºæ—¶é—´(s)ï¼Œç¬¬2åˆ—ä¸ºä¿¡å·å€¼(V)
- **åˆ†éš”ç¬¦**ï¼šç©ºæ ¼æˆ–åˆ¶è¡¨ç¬¦ï¼Œæ”¯æŒè‡ªåŠ¨è¯†åˆ«
- **ç§‘å­¦è®¡æ•°æ³•**ï¼šç¬¦åˆIEEE 754æ ‡å‡†
- **æ—¶é—´å•è°ƒæ€§**ï¼šå¿…é¡»ä¸¥æ ¼é€’å¢ï¼Œæ­¥é•¿å¯ä¸ç­‰

**å¤šä¿¡å·æ”¯æŒ** (æ‰©å±•æ ¼å¼)ï¼š
```
# Time(s)    v_in(V)    v_out(V)    v_clk(V)
0.000000e+00    0.0    0.0    0.6
1.000000e-11    0.1    0.15   0.6
...
```
EyeAnalyzeré»˜è®¤è¯»å–ç¬¬2åˆ—ï¼Œå¯é€šè¿‡`signal_column`å‚æ•°æŒ‡å®šã€‚

#### 5.3.2 è¾“å‡ºæ–‡ä»¶æ ¼å¼

**1. çœ¼å›¾æŒ‡æ ‡JSON (`eye_metrics.json`)**

```json
{
  "metadata": {
    "version": "1.0",
    "timestamp": "2026-01-21T10:30:00Z",
    "dat_path": "results.dat",
    "ui": 2.5e-11,
    "ui_bins": 128,
    "amp_bins": 128,
    "measure_length": 2.5e-6
  },
  "eye_geometry": {
    "eye_height": 0.756,
    "eye_width": 0.942,
    "eye_area": 0.523,
    "linearity_error": 0.032,
    "optimal_sampling_phase": 0.512,
    "optimal_threshold": 0.003
  },
  "jitter_decomposition": {
    "rj_sigma": 5.2e-12,
    "dj_pp": 1.1e-11,
    "tj_at_ber": 3.28e-11,
    "target_ber": 1e-12,
    "q_factor": 7.034,
    "method": "dual-dirac"
  },
  "signal_quality": {
    "mean": -0.001,
    "rms": 0.387,
    "peak_to_peak": 0.823,
    "psd_peak_freq": 5.2e9,
    "psd_peak_value": -28.5
  },
  "data_provenance": {
    "total_samples": 250000,
    "analyzed_samples": 100000,
    "sampling_rate": 80e9,
    "duration": 2.5e-6
  }
}
```

**2. çœ¼å›¾å›¾åƒæ–‡ä»¶ (`eye_diagram.png/svg/pdf`)**

**PNGæ ¼å¼** (é»˜è®¤)ï¼š
- åˆ†è¾¨ç‡ï¼šå¯é…ç½®DPI (é»˜è®¤300)
- é¢œè‰²æ˜ å°„ï¼š'hot' (å¯†åº¦çƒ­å›¾)
- åŒ…å«ï¼šçœ¼å›¾è½®å»“ã€æŒ‡æ ‡æ ‡æ³¨ã€é¢œè‰²æ¡
- æ–‡ä»¶å¤§å°ï¼š~200KB (128Ã—128 bins)

**SVGæ ¼å¼** (æ¨èç”¨äºæŠ¥å‘Š)ï¼š
- çŸ¢é‡å›¾å½¢ï¼Œæ— é™ç¼©æ”¾
- å¯ç¼–è¾‘æ–‡æœ¬æ ‡æ³¨
- æ–‡ä»¶å¤§å°ï¼š~500KB
- æ”¯æŒåµŒå…¥ç½‘é¡µ

**PDFæ ¼å¼** (ç”¨äºè®ºæ–‡)ï¼š
- é«˜è´¨é‡çŸ¢é‡è¾“å‡º
- æ”¯æŒå¤šé¡µ
- æ–‡ä»¶å¤§å°ï¼š~300KB

**3. è¾…åŠ©æ•°æ®CSV (`eye_analysis_data/`)**

**äºŒç»´å¯†åº¦çŸ©é˜µ** (`hist2d.csv`)ï¼š
```csv
phase_bin,amplitude_bin,density
0,0,0.000123
0,1,0.000234
...
127,127,0.000045
```

**PSDæ•°æ®** (`psd.csv`)ï¼š
```csv
frequency_hz,psd_v2_per_hz
0.000000e+00,1.234567e-08
1.000000e+06,8.765432e-09
...
4.000000e+10,2.345678e-11
```

**PDFæ•°æ®** (`pdf.csv`)ï¼š
```csv
amplitude_v,probability_density
-0.500,0.000012
-0.495,0.000023
...
0.500,0.000015
```

**æŠ–åŠ¨åˆ†å¸ƒ** (`jitter_distribution.csv`)ï¼š
```csv
time_offset_s,probability
-5.000e-11,0.0012
-4.995e-11,0.0015
...
5.000e-11,0.0013
```

#### 5.3.3 æ•°æ®æ ¼å¼è½¬æ¢å·¥å…·

**dat â†’ numpyæ•°ç»„**ï¼š
```python
import numpy as np
t, v = np.loadtxt('results.dat', skiprows=2, unpack=True)
```

**JSON â†’ pandas DataFrame**ï¼š
```python
import pandas as pd
import json
with open('eye_metrics.json', 'r') as f:
    metrics = json.load(f)
df = pd.json_normalize(metrics)
```

**CSV â†’ MATLAB**ï¼š
```matlab
% è¯»å–çœ¼å›¾å¯†åº¦çŸ©é˜µ
M = csvread('hist2d.csv');
phase = reshape(M(:,1), 128, 128);
amplitude = reshape(M(:,2), 128, 128);
density = reshape(M(:,3), 128, 128);

% ç»˜åˆ¶çœ¼å›¾
imagesc(phase(1,:), amplitude(:,1), density);
colorbar;
xlabel('UI Phase');
ylabel('Amplitude (V)');
title('Eye Diagram');
```

**æ‰¹é‡è½¬æ¢è„šæœ¬** (`scripts/convert_eye_data.py`)ï¼š
```bash
python scripts/convert_eye_data.py --input results.dat --format numpy,hdf5
# è¾“å‡º results.npy å’Œ results.h5
```

## 5. ä»¿çœŸç»“æœåˆ†æ

### 5.1 ç»Ÿè®¡æŒ‡æ ‡è¯´æ˜

EyeAnalyzer ç”Ÿæˆçš„æ ¸å¿ƒæŒ‡æ ‡å¯åˆ†ä¸ºçœ¼å›¾å‡ ä½•å‚æ•°ã€æŠ–åŠ¨åˆ†è§£å‚æ•°å’Œä¿¡å·è´¨é‡å‚æ•°ä¸‰å¤§ç±»ï¼š

| æŒ‡æ ‡ç±»åˆ« | æŒ‡æ ‡åç§° | è®¡ç®—æ–¹æ³• | ç‰©ç†æ„ä¹‰ | å…¸å‹å€¼èŒƒå›´ |
|---------|---------|---------|---------|-----------|
| **çœ¼å›¾å‡ ä½•å‚æ•°** | çœ¼é«˜ (Eye Height) | V_top(Ï†_opt) - V_bottom(Ï†_opt) | æœ€ä½³é‡‡æ ·ç‚¹çš„å‚ç›´å¼€å£ï¼Œåæ˜ å™ªå£°è£•é‡ | 0.5~1.0 V (å–å†³äºæ‘†å¹…) |
| | çœ¼å®½ (Eye Width) | Ï†_right(V_th) - Ï†_left(V_th) | æœ€ä½³é˜ˆå€¼å¤„çš„æ°´å¹³å¼€å£ï¼Œåæ˜ æ—¶åºè£•é‡ | 0.7~1.0 UI |
| | å¼€å£é¢ç§¯ (Eye Area) | âˆ«âˆ«_EyeOpening H(Ï†,V) dÏ†dV | çœ¼å›¾å¼€å£åŒºåŸŸç§¯åˆ†ï¼Œç»¼åˆè´¨é‡æŒ‡æ ‡ | 0.3~0.8 VÂ·UI |
| | çº¿æ€§åº¦è¯¯å·® (Linearity Error) | RMS(V_actual - V_linear_fit) | çœ¼å›¾å¼€å£åŒºåŸŸçº¿æ€§æ‹Ÿåˆæ®‹å·® | < 5% (å½’ä¸€åŒ–) |
| **æŠ–åŠ¨åˆ†è§£å‚æ•°** | éšæœºæŠ–åŠ¨ (RJ) | é«˜æ–¯åˆ†å¸ƒæ ‡å‡†å·® Ïƒ_RJ | éšæœºå™ªå£°å¼•èµ·çš„æ—¶é—´ä¸ç¡®å®šæ€§ | 1e-12 ~ 1e-11 s |
| | ç¡®å®šæ€§æŠ–åŠ¨ (DJ) | åŒå³°åˆ†å¸ƒé—´è· Î¼_1 - Î¼_0 | å¯é¢„æµ‹çš„ç³»ç»Ÿæ€§æ—¶åºåå·® | 5e-12 ~ 5e-11 s |
| | æ€»æŠ–åŠ¨ (TJ@BER) | DJ + 2Ã—Q(BER)Ã—RJ | ç›®æ ‡è¯¯ç ç‡ä¸‹çš„æ€»æ—¶åºé¢„ç®— | DJ + 14Ã—RJ (BER=1e-12) |
| **ä¿¡å·è´¨é‡å‚æ•°** | ä¿¡å·å‡å€¼ (Mean) | æ‰€æœ‰é‡‡æ ·ç‚¹ç®—æœ¯å¹³å‡ | ä¿¡å·ç›´æµåˆ†é‡ | 0 V (å·®åˆ†ä¿¡å·) |
| | RMSå€¼ | sqrt(Î£xÂ²/N) | ä¿¡å·æœ‰æ•ˆå€¼/åŠŸç‡ | æ‘†å¹…/âˆš2 |
| | å³°å³°å€¼ (Peak-to-Peak) | max(V) - min(V) | ä¿¡å·åŠ¨æ€èŒƒå›´ | 0.8~1.2 V |
| | PSDå³°å€¼ | max(Pxx(f)) | åŠŸç‡è°±å¯†åº¦å³°å€¼ | -40 ~ -20 dBm/Hz |
| | PDFç†µå€¼ | -âˆ«p(x)log(p(x))dx | ä¿¡å·ä¸ç¡®å®šæ€§åº¦é‡ | 1.5~3.0 bits |

**æŒ‡æ ‡é—´å…³ç³»éªŒè¯**ï¼š
- TJ@BER â‰ˆ DJ + 14Ã—RJ (BER=1e-12æ—¶ï¼ŒQâ‰ˆ7.03)
- çœ¼å®½ â‰ˆ UI - TJ@BER (ç†æƒ³æƒ…å†µä¸‹)
- çœ¼é«˜ â‰ˆ V_swing - 6Ã—Ïƒ_noise (6Ïƒå‡†åˆ™)

### 5.2 å…¸å‹æµ‹è¯•ç»“æœè§£è¯»

#### BASIC_EYE_ANALYSIS - åŸºç¡€çœ¼å›¾åˆ†æç»“æœ

**æµ‹è¯•é…ç½®**ï¼š10Gbps PRBS-31ä¿¡å·ï¼Œ800mVæ‘†å¹…ï¼Œ5mVå™ªå£°ï¼Œmeasure_length=2.5Î¼s

**æœŸæœ›ç»“æœèŒƒå›´**ï¼š
- çœ¼é«˜ï¼š0.72~0.80 V (è¾“å…¥æ‘†å¹…800mV - å™ªå£°å‹ç¼©)
- çœ¼å®½ï¼š0.92~0.98 UI (ç†æƒ³1UI - æŠ–åŠ¨æŸè€—)
- å¼€å£é¢ç§¯ï¼š0.45~0.65 VÂ·UI (çœ¼é«˜Ã—çœ¼å®½Ã—å¡«å……å› å­)
- RJ_sigmaï¼š4.5~5.5e-12 s (ä¸æ³¨å…¥5e-12sä¸€è‡´)
- DJ_ppï¼š0.8~1.2e-11 s (PRBS-31æ•°æ®ç›¸å…³æŠ–åŠ¨)
- TJ@1e-12ï¼š2.8~3.5e-11 s (DJ + 14Ã—RJ)

**ç»“æœåˆ†ææ–¹æ³•**ï¼š
1. **çœ¼å›¾å¯è§†åŒ–æ£€æŸ¥**ï¼šçœ¼å›¾åº”å‘ˆç°æ¸…æ™°çš„"çœ¼ç›"å½¢çŠ¶ï¼Œäº¤å‰åŒºåŸŸé›†ä¸­ï¼Œä¸Šä¸‹è¾¹ç•Œå¹³æ»‘
2. **æŒ‡æ ‡åˆç†æ€§éªŒè¯**ï¼šçœ¼é«˜+å™ªå£°<è¾“å…¥æ‘†å¹…ï¼Œçœ¼å®½+TJâ‰ˆ1UI
3. **ç»Ÿè®¡æ”¶æ•›æ€§**ï¼šmeasure_lengthå¢åŠ 10å€ï¼ŒæŒ‡æ ‡å˜åŒ–<3%
4. **ä¸å‚è€ƒå€¼å¯¹æ¯”**ï¼šä¸ç†è®ºè®¡ç®—å€¼åå·®<10%

**å¼‚å¸¸è¯Šæ–­**ï¼š
- çœ¼é«˜åä½ï¼šæ£€æŸ¥å™ªå£°æ°´å¹³ã€ä¿¡é“è¡°å‡ã€å‡è¡¡å™¨é…ç½®
- çœ¼å®½åå°ï¼šæ£€æŸ¥æŠ–åŠ¨æ³¨å…¥ã€CDRé”å®šã€é‡‡æ ·ç›¸ä½
- å¼€å£é¢ç§¯å°ï¼šç»¼åˆä¿¡å™ªæ¯”ä¸è¶³ï¼Œéœ€ä¼˜åŒ–é“¾è·¯å‚æ•°

#### JITTER_DECOMPOSITION - æŠ–åŠ¨åˆ†è§£ç²¾åº¦éªŒè¯ç»“æœ

**æµ‹è¯•é…ç½®**ï¼šPRBS-15ï¼Œæ³¨å…¥RJ=10e-12sï¼ŒDJ=20e-12sï¼ŒPJ=5e-12s@5MHz

**æœŸæœ›åˆ†è§£ç²¾åº¦**ï¼š
- RJæå–è¯¯å·®ï¼š< Â±15% (8.5~11.5e-12s)
- DJæå–è¯¯å·®ï¼š< Â±10% (18~22e-12s)
- TJè®¡ç®—ç²¾åº¦ï¼š< Â±8% (ç†è®ºå€¼34e-12s)
- PJè¯†åˆ«ï¼šé¢‘è°±åˆ†æåº”åœ¨5MHzå¤„å‡ºç°å³°å€¼

**ç»“æœåˆ†ææ–¹æ³•**ï¼š
1. **çœ¼å›¾äº¤å‰åŒºåŸŸæ”¾å¤§**ï¼šäº¤å‰ç‚¹åº”å‘ˆç°æ˜æ˜¾çš„åŒå³°åˆ†å¸ƒ
2. **PDFæ‹Ÿåˆè´¨é‡**ï¼šåŒç‹„æ‹‰å…‹æ¨¡å‹æ‹Ÿåˆä¼˜åº¦RÂ²>0.95
3. **PSDé¢‘è°±éªŒè¯**ï¼šå‘¨æœŸæ€§æŠ–åŠ¨åº”åœ¨å¯¹åº”é¢‘ç‡å‡ºç°è°±çº¿
4. **å¤šç»„æ•°æ®ä¸€è‡´æ€§**ï¼šç›¸åŒæ³¨å…¥æ¡ä»¶ä¸‹ï¼Œ5æ¬¡æµ‹é‡æ ‡å‡†å·®<5%

**è¯¯å·®æ¥æºåˆ†æ**ï¼š
- RJé«˜ä¼°ï¼šå™ªå£°éé«˜æ–¯ã€é‡åŒ–è¯¯å·®ã€æ ·æœ¬ä¸è¶³
- DJä½ä¼°ï¼šåŒå³°åˆ†ç¦»åº¦ä¸å¤Ÿã€RJå™ªå£°æ©ç›–
- TJåå·®ï¼šQå‡½æ•°è¿‘ä¼¼ã€BERå¤–æ¨è¯¯å·®

#### SAMPLING_STRATEGY - é‡‡æ ·ç­–ç•¥å¯¹æ¯”ç»“æœ

**æµ‹è¯•é…ç½®**ï¼š25Gbpsä¿¡å·ï¼Œä¸‰ç§SNRæ¡ä»¶(30dB/20dB/15dB)

**æ€§èƒ½å¯¹æ¯”çŸ©é˜µ**ï¼š

| é‡‡æ ·ç­–ç•¥ | é«˜SNR(30dB) | ä¸­SNR(20dB) | ä½SNR(15dB) | é²æ£’æ€§è¯„åˆ† |
|---------|------------|------------|------------|-----------|
| **phase-lock** | çœ¼é«˜: 0.78V (Â±2%) | çœ¼é«˜: 0.75V (Â±3%) | çœ¼é«˜: 0.70V (Â±5%) | â˜…â˜…â˜…â˜…â˜… |
| | çœ¼å®½: 0.96UI (Â±1%) | çœ¼å®½: 0.93UI (Â±2%) | çœ¼å®½: 0.88UI (Â±4%) | |
| **peak** | çœ¼é«˜: 0.79V (Â±1%) | çœ¼é«˜: 0.73V (Â±5%) | çœ¼é«˜: 0.61V (Â±12%) | â˜…â˜…â˜…â˜†â˜† |
| | çœ¼å®½: 0.96UI (Â±1%) | çœ¼å®½: 0.92UI (Â±3%) | çœ¼å®½: 0.82UI (Â±8%) | |
| **zero-cross** | çœ¼é«˜: 0.77V (Â±3%) | çœ¼é«˜: 0.68V (Â±8%) | çœ¼é«˜: 0.45V (Â±20%) | â˜…â˜…â˜†â˜†â˜† |
| | çœ¼å®½: 0.95UI (Â±2%) | çœ¼å®½: 0.89UI (Â±5%) | çœ¼å®½: 0.71UI (Â±12%) | |

**è§£è¯»ç»“è®º**ï¼š
- **phase-lock**ï¼šåœ¨æ‰€æœ‰æ¡ä»¶ä¸‹æœ€ç¨³å®šï¼Œå˜åŒ–ç‡<5%ï¼Œæ¨èä½œä¸ºé»˜è®¤ç­–ç•¥
- **peak**ï¼šé«˜SNRä¸‹ç²¾åº¦æœ€é«˜ï¼Œä½†ä½SNRä¸‹æ€§èƒ½æ€¥å‰§ä¸‹é™ï¼Œé€‚åˆé«˜è´¨é‡ä¿¡å·
- **zero-cross**ï¼šå¯¹å™ªå£°æœ€æ•æ„Ÿï¼Œä»…é€‚ç”¨äºæ—¶é’Ÿæ¢å¤éªŒè¯åœºæ™¯

#### PERFORMANCE_STRESS - æ€§èƒ½åŸºå‡†æµ‹è¯•ç»“æœ

**æµ‹è¯•é…ç½®**ï¼š56Gbpsä¿¡å·ï¼Œæ•°æ®è§„æ¨¡ä»100K UIåˆ°50M UI

**æ€§èƒ½æŒ‡æ ‡è¦æ±‚**ï¼š

| æ•°æ®è§„æ¨¡ | åˆ†ææ—¶é—´ | å†…å­˜å³°å€¼ | ååé‡ | å†…å­˜æ•ˆç‡ |
|---------|---------|---------|--------|---------|
| 100K UI | < 3s | < 100MB | > 500k UI/s | < 200 bytes/UI |
| 1M UI | < 30s | < 500MB | > 500k UI/s | < 200 bytes/UI |
| 10M UI | < 5min | < 2GB | > 500k UI/s | < 200 bytes/UI |
| 50M UI | < 30min | < 10GB | > 500k UI/s | < 200 bytes/UI |

**æ€§èƒ½ç“¶é¢ˆåˆ†æ**ï¼š
1. **æ•°æ®åŠ è½½é˜¶æ®µ**ï¼šI/Oå¸¦å®½é™åˆ¶ï¼Œå»ºè®®SSDå­˜å‚¨
2. **çœ¼å›¾æ„å»ºé˜¶æ®µ**ï¼šCPUå¯†é›†å‹ï¼Œæ”¯æŒå¤šæ ¸å¹¶è¡ŒåŠ é€Ÿ
3. **æŠ–åŠ¨åˆ†è§£é˜¶æ®µ**ï¼šæ•°å€¼è®¡ç®—ï¼Œå¯ä½¿ç”¨GPUåŠ é€Ÿï¼ˆå¯é€‰ï¼‰
4. **å¯è§†åŒ–é˜¶æ®µ**ï¼šå›¾åƒæ¸²æŸ“ï¼Œå¯é™é‡‡æ ·æˆ–å¼‚æ­¥ç”Ÿæˆ

**ä¼˜åŒ–å»ºè®®**ï¼š
- å¤§æ•°æ®é›†ä½¿ç”¨`measure_length`æˆªå–å…³é”®æ®µ
- é™ä½`ui_bins`/`amp_bins`åˆ†è¾¨ç‡æƒè¡¡ç²¾åº¦ä¸é€Ÿåº¦
- å…³é—­`save_csv_data`å‡å°‘I/Oå¼€é”€
- å¯ç”¨`hist2d_normalize=False`èŠ‚çœå½’ä¸€åŒ–æ—¶é—´

#### BOUNDARY_CONDITION - è¾¹ç•Œæ¡ä»¶å¤„ç†ç»“æœ

**å…³é”®è¾¹ç•Œåœºæ™¯éªŒè¯**ï¼š

1. **çŸ­æ•°æ®æµ‹è¯•** (1,000 UI)
   - ç»“æœï¼šç”Ÿæˆè­¦å‘Š"Insufficient data for stable statistics"
   - çœ¼å›¾ï¼šè½®å»“æ¨¡ç³Šï¼ŒæŒ‡æ ‡ç½®ä¿¡åº¦<70%
   - å»ºè®®ï¼šmeasure_lengthåº”>10,000 UI

2. **å•å‘¨æœŸæ•°æ®** (1 UI)
   - ç»“æœï¼šæŠ›å‡ºå¼‚å¸¸"Data length < 100 UI, analysis aborted"
   - ä¿æŠ¤æœºåˆ¶ï¼šé˜²æ­¢é™¤é›¶é”™è¯¯å’Œå†…å­˜æº¢å‡º

3. **æ’å®šä¿¡å·** (DC)
   - ç»“æœï¼šçœ¼é«˜=0, çœ¼å®½=0, RJ/DJ=NaN
   - é”™è¯¯ç ï¼š`EYE_OPENING_ZERO`
   - è¯Šæ–­æç¤ºï¼šæ£€æŸ¥ä¿¡å·æºæˆ–é“¾è·¯è¿æ¥

4. **å¹…åº¦æº¢å‡º** (>2V)
   - ç»“æœï¼šè‡ªåŠ¨æ‰©å±•amp_binsèŒƒå›´ï¼Œè­¦å‘Š"Amplitude range extended"
   - ä¿æŠ¤æœºåˆ¶ï¼šåŠ¨æ€è°ƒæ•´ç›´æ–¹å›¾è¾¹ç•Œ

5. **æ—¶é—´æˆ³ä¸è¿ç»­**
   - ç»“æœï¼šè­¦å‘Š"Timestamp gap detected at t=xxxs"
   - å¤„ç†ç­–ç•¥ï¼šçº¿æ€§æ’å€¼æˆ–è·³è¿‡å¼‚å¸¸æ®µ

**é²æ£’æ€§è¯„ä¼°**ï¼šEyeAnalyzeråœ¨æ‰€æœ‰è¾¹ç•Œåœºæ™¯ä¸‹å‡æ— å´©æºƒï¼Œé”™è¯¯å¤„ç†æœºåˆ¶å®Œå–„ï¼Œç¬¦åˆç”Ÿäº§çº§å·¥å…·è¦æ±‚ã€‚

#### REGRESSION_VALIDATION - å›å½’æµ‹è¯•ç»“æœ

**å›å½’æµ‹è¯•æ ‡å‡†**ï¼š

| æŒ‡æ ‡ | å®¹å¿åº¦ | æµ‹è¯•10Gbps | æµ‹è¯•25Gbps | æµ‹è¯•56Gbps | çŠ¶æ€ |
|------|--------|-----------|-----------|-----------|------|
| çœ¼é«˜ | Â±2% | +1.2% | -0.8% | +1.5% | PASS |
| çœ¼å®½ | Â±3% | +0.5% | -1.2% | +2.1% | PASS |
| RJ | Â±5% | +2.3% | +3.1% | -1.8% | PASS |
| DJ | Â±4% | -0.9% | +2.7% | +1.3% | PASS |
| TJ | Â±3% | +1.1% | +1.8% | +0.7% | PASS |

**å›å½’è¶‹åŠ¿åˆ†æ**ï¼š
- **æ€§èƒ½é€€åŒ–æ£€æµ‹**ï¼šè‹¥æŸæ¬¡æäº¤å¯¼è‡´æŒ‡æ ‡åå·®>å®¹å¿åº¦ï¼Œæ ‡è®°ä¸ºå›å½’å¤±è´¥
- **æ€§èƒ½æå‡è¯†åˆ«**ï¼šè‹¥æŒ‡æ ‡æŒç»­ä¼˜äºå‚è€ƒå€¼ï¼Œæ›´æ–°Goldenæ•°æ®é›†
- **å†å²è¶‹åŠ¿å›¾**ï¼šç»˜åˆ¶æœ€è¿‘20æ¬¡æäº¤çš„æŒ‡æ ‡å˜åŒ–æ›²çº¿ï¼Œè¯†åˆ«é•¿æœŸè¶‹åŠ¿

**CI/CDé›†æˆ**ï¼š
- å›å½’æµ‹è¯•ä½œä¸ºGitHub Actionsçš„å¿…éœ€æ£€æŸ¥é¡¹
- å¤±è´¥æ—¶é˜»å¡PRåˆå¹¶ï¼Œè¦æ±‚å¼€å‘è€…ä¿®å¤æˆ–æ›´æ–°å‚è€ƒå€¼
- ç”ŸæˆJUnit XMLæŠ¥å‘Šï¼Œä¸CIç³»ç»Ÿæ— ç¼é›†æˆ

### 5.3 æ³¢å½¢æ•°æ®æ–‡ä»¶æ ¼å¼

#### 5.3.1 è¾“å…¥æ–‡ä»¶æ ¼å¼ (SystemC-AMS Tabular)

**æ–‡ä»¶æ‰©å±•å**ï¼š`.dat` (æ–‡æœ¬æ ¼å¼) æˆ– `.tdf` (äºŒè¿›åˆ¶æ ¼å¼ï¼Œæ€§èƒ½æ›´ä¼˜)

**æ–‡æœ¬æ ¼å¼ç¤ºä¾‹** (`results.dat`)ï¼š
```
# SystemC-AMS Tabular Trace File
# Time(s)    voltage(V)
0.000000e+00    0.000000e+00
1.000000e-11    5.234567e-03
2.000000e-11    1.234567e-01
3.000000e-11    2.345678e-01
... (N rows)
2.500000e-06    3.456789e-01
```

**æ ¼å¼è§„èŒƒ**ï¼š
- **æ³¨é‡Šè¡Œ**ï¼šä»¥`#`å¼€å¤´ï¼Œå¯åŒ…å«å…ƒæ•°æ®
- **æ•°æ®åˆ—**ï¼šè‡³å°‘2åˆ—ï¼Œç¬¬1åˆ—ä¸ºæ—¶é—´(s)ï¼Œç¬¬2åˆ—ä¸ºä¿¡å·å€¼(V)
- **åˆ†éš”ç¬¦**ï¼šç©ºæ ¼æˆ–åˆ¶è¡¨ç¬¦ï¼Œæ”¯æŒè‡ªåŠ¨è¯†åˆ«
- **ç§‘å­¦è®¡æ•°æ³•**ï¼šç¬¦åˆIEEE 754æ ‡å‡†
- **æ—¶é—´å•è°ƒæ€§**ï¼šå¿…é¡»ä¸¥æ ¼é€’å¢ï¼Œæ­¥é•¿å¯ä¸ç­‰

**å¤šä¿¡å·æ”¯æŒ** (æ‰©å±•æ ¼å¼)ï¼š
```
# Time(s)    v_in(V)    v_out(V)    v_clk(V)
0.000000e+00    0.0    0.0    0.6
1.000000e-11    0.1    0.15   0.6
...
```
EyeAnalyzeré»˜è®¤è¯»å–ç¬¬2åˆ—ï¼Œå¯é€šè¿‡`signal_column`å‚æ•°æŒ‡å®šã€‚

#### 5.3.2 è¾“å‡ºæ–‡ä»¶æ ¼å¼

**1. çœ¼å›¾æŒ‡æ ‡JSON (`eye_metrics.json`)**

```json
{
  "metadata": {
    "version": "1.0",
    "timestamp": "2026-01-21T10:30:00Z",
    "dat_path": "results.dat",
    "ui": 2.5e-11,
    "ui_bins": 128,
    "amp_bins": 128,
    "measure_length": 2.5e-6
  },
  "eye_geometry": {
    "eye_height": 0.756,
    "eye_width": 0.942,
    "eye_area": 0.523,
    "linearity_error": 0.032,
    "optimal_sampling_phase": 0.512,
    "optimal_threshold": 0.003
  },
  "jitter_decomposition": {
    "rj_sigma": 5.2e-12,
    "dj_pp": 1.1e-11,
    "tj_at_ber": 3.28e-11,
    "target_ber": 1e-12,
    "q_factor": 7.034,
    "method": "dual-dirac"
  },
  "signal_quality": {
    "mean": -0.001,
    "rms": 0.387,
    "peak_to_peak": 0.823,
    "psd_peak_freq": 5.2e9,
    "psd_peak_value": -28.5
  },
  "data_provenance": {
    "total_samples": 250000,
    "analyzed_samples": 100000,
    "sampling_rate": 80e9,
    "duration": 2.5e-6
  }
}
```

**2. çœ¼å›¾å›¾åƒæ–‡ä»¶ (`eye_diagram.png/svg/pdf`)**

**PNGæ ¼å¼** (é»˜è®¤)ï¼š
- åˆ†è¾¨ç‡ï¼šå¯é…ç½®DPI (é»˜è®¤300)
- é¢œè‰²æ˜ å°„ï¼š'hot' (å¯†åº¦çƒ­å›¾)
- åŒ…å«ï¼šçœ¼å›¾è½®å»“ã€æŒ‡æ ‡æ ‡æ³¨ã€é¢œè‰²æ¡
- æ–‡ä»¶å¤§å°ï¼š~200KB (128Ã—128 bins)

**SVGæ ¼å¼** (æ¨èç”¨äºæŠ¥å‘Š)ï¼š
- çŸ¢é‡å›¾å½¢ï¼Œæ— é™ç¼©æ”¾
- å¯ç¼–è¾‘æ–‡æœ¬æ ‡æ³¨
- æ–‡ä»¶å¤§å°ï¼š~500KB
- æ”¯æŒåµŒå…¥ç½‘é¡µ

**PDFæ ¼å¼** (ç”¨äºè®ºæ–‡)ï¼š
- é«˜è´¨é‡çŸ¢é‡è¾“å‡º
- æ”¯æŒå¤šé¡µ
- æ–‡ä»¶å¤§å°ï¼š~300KB

**3. è¾…åŠ©æ•°æ®CSV (`eye_analysis_data/`)**

**äºŒç»´å¯†åº¦çŸ©é˜µ** (`hist2d.csv`)ï¼š
```csv
phase_bin,amplitude_bin,density
0,0,0.000123
0,1,0.000234
...
127,127,0.000045
```

**PSDæ•°æ®** (`psd.csv`)ï¼š
```csv
frequency_hz,psd_v2_per_hz
0.000000e+00,1.234567e-08
1.000000e+06,8.765432e-09
...
4.000000e+10,2.345678e-11
```

**PDFæ•°æ®** (`pdf.csv`)ï¼š
```csv
amplitude_v,probability_density
-0.500,0.000012
-0.495,0.000023
...
0.500,0.000015
```

**æŠ–åŠ¨åˆ†å¸ƒ** (`jitter_distribution.csv`)ï¼š
```csv
time_offset_s,probability
-5.000e-11,0.0012
-4.995e-11,0.0015
...
5.000e-11,0.0013
```

#### 5.3.3 æ•°æ®æ ¼å¼è½¬æ¢å·¥å…·

**dat â†’ numpyæ•°ç»„**ï¼š
```python
import numpy as np
t, v = np.loadtxt('results.dat', skiprows=2, unpack=True)
```

**JSON â†’ pandas DataFrame**ï¼š
```python
import pandas as pd
import json
with open('eye_metrics.json', 'r') as f:
    metrics = json.load(f)
df = pd.json_normalize(metrics)
```

**CSV â†’ MATLAB**ï¼š
```matlab
% è¯»å–çœ¼å›¾å¯†åº¦çŸ©é˜µ
M = csvread('hist2d.csv');
phase = reshape(M(:,1), 128, 128);
amplitude = reshape(M(:,2), 128, 128);
density = reshape(M(:,3), 128, 128);

% ç»˜åˆ¶çœ¼å›¾
imagesc(phase(1,:), amplitude(:,1), density);
colorbar;
xlabel('UI Phase');
ylabel('Amplitude (V)');
title('Eye Diagram');
```

**æ‰¹é‡è½¬æ¢è„šæœ¬** (`scripts/convert_eye_data.py`)ï¼š
```bash
python scripts/convert_eye_data.py --input results.dat --format numpy,hdf5
# è¾“å‡º results.npy å’Œ results.h5
```

## 6. è¿è¡ŒæŒ‡å—

### 6.1 ç¯å¢ƒé…ç½®

EyeAnalyzer ä½œä¸º Python åˆ†æç»„ä»¶ï¼Œéœ€è¦é…ç½® Python ç¯å¢ƒå’Œç›¸å…³ä¾èµ–åº“ã€‚

#### 6.1.1 Python ç‰ˆæœ¬è¦æ±‚

- **Python**: 3.8 æˆ–æ›´é«˜ç‰ˆæœ¬ï¼ˆæ¨è 3.10+ï¼‰
- **pip**: æœ€æ–°ç‰ˆæœ¬ï¼ˆå»ºè®®è¿è¡Œ `pip install --upgrade pip`ï¼‰

#### 6.1.2 ä¾èµ–åº“å®‰è£…

EyeAnalyzer ä¾èµ–ä»¥ä¸‹æ ¸å¿ƒåº“ï¼Œå¯é€šè¿‡ pip ä¸€é”®å®‰è£…ï¼š

```bash
# åŸºç¡€ä¾èµ–ï¼ˆå¿…éœ€ï¼‰
pip install numpy scipy matplotlib

# å¯é€‰ä¾èµ–ï¼ˆæ¨èå®‰è£…ï¼‰
pip install pandas  # ç”¨äº JSON/CSV æ•°æ®å¤„ç†
pip install pytest  # ç”¨äºè¿è¡Œæµ‹è¯•å¹³å°
pip install memory_profiler  # ç”¨äºæ€§èƒ½åˆ†æ
```

**ä¾èµ–ç‰ˆæœ¬å»ºè®®**ï¼š
- numpy â‰¥ 1.20.0
- scipy â‰¥ 1.7.0
- matplotlib â‰¥ 3.5.0
- pandas â‰¥ 1.3.0ï¼ˆå¯é€‰ï¼‰

#### 6.1.3 è™šæ‹Ÿç¯å¢ƒé…ç½®ï¼ˆæ¨èï¼‰

ä¸ºé¿å…ä¾èµ–å†²çªï¼Œå»ºè®®ä½¿ç”¨è™šæ‹Ÿç¯å¢ƒï¼š

```bash
# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv eye_analyzer_env

# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
source eye_analyzer_env/bin/activate  # Linux/macOS
# eye_analyzer_env\Scripts\activate  # Windows

# å®‰è£…ä¾èµ–
pip install numpy scipy matplotlib pandas pytest
```

#### 6.1.4 ç¯å¢ƒå˜é‡é…ç½®

EyeAnalyzer æ”¯æŒé€šè¿‡ç¯å¢ƒå˜é‡é…ç½®é»˜è®¤å‚æ•°ï¼š

```bash
# è®¾ç½®é»˜è®¤è¾“å‡ºç›®å½•
export EYE_ANALYZER_OUTPUT_DIR=./eye_analysis_results

# è®¾ç½®é»˜è®¤å›¾åƒ DPI
export EYE_ANALYZER_DPI=300

# è®¾ç½®é»˜è®¤å›¾åƒæ ¼å¼
export EYE_ANALYZER_IMAGE_FORMAT=png

# æ·»åŠ åˆ° .bashrc æˆ– .zshrc å®ç°æŒä¹…åŒ–é…ç½®
echo 'export EYE_ANALYZER_OUTPUT_DIR=./eye_analysis_results' >> ~/.bashrc
source ~/.bashrc
```

### 6.2 æ„å»ºä¸è¿è¡Œ

EyeAnalyzer æä¾›ä¸‰ç§ä½¿ç”¨æ–¹å¼ï¼šAPI è°ƒç”¨ã€å‘½ä»¤è¡Œå·¥å…·å’Œ pytest æµ‹è¯•æ¡†æ¶ã€‚

#### 6.2.1 API è°ƒç”¨æ–¹å¼ï¼ˆæ¨èï¼‰

åœ¨ Python è„šæœ¬ä¸­ç›´æ¥è°ƒç”¨ EyeAnalyzer å‡½æ•°ï¼š

```python
from eye_analyzer import analyze_eye

# åŸºç¡€è°ƒç”¨
metrics = analyze_eye(
    dat_path='results.dat',
    ui=2.5e-11,  # 10Gbps
    ui_bins=128,
    amp_bins=128,
    measure_length=2.5e-6,
    target_ber=1e-12
)

# æ‰“å°å…³é”®æŒ‡æ ‡
print(f"çœ¼é«˜: {metrics['eye_geometry']['eye_height']:.3f} V")
print(f"çœ¼å®½: {metrics['eye_geometry']['eye_width']:.3f} UI")
print(f"RJ: {metrics['jitter_decomposition']['rj_sigma']:.2e} s")
```

**API å‚æ•°è¯´æ˜**ï¼š
- `dat_path`: è¾“å…¥æ³¢å½¢æ–‡ä»¶è·¯å¾„ï¼ˆä¸ `waveform_array` äºŒé€‰ä¸€ï¼‰
- `waveform_array`: å†…å­˜æ³¢å½¢æ•°ç»„ï¼ˆNumPy ndarrayï¼‰
- `ui`: å•ä½é—´éš”ï¼ˆç§’ï¼‰ï¼Œå¿…éœ€å‚æ•°
- `ui_bins`: çœ¼å›¾æ°´å¹³åˆ†è¾¨ç‡ï¼ˆé»˜è®¤ 128ï¼‰
- `amp_bins`: çœ¼å›¾å‚ç›´åˆ†è¾¨ç‡ï¼ˆé»˜è®¤ 128ï¼‰
- `measure_length`: ç»Ÿè®¡æ—¶é•¿ï¼ˆç§’ï¼Œé»˜è®¤ 1e-4ï¼‰
- `target_ber`: ç›®æ ‡è¯¯ç ç‡ï¼ˆé»˜è®¤ 1e-12ï¼‰
- `sampling`: é‡‡æ ·ç­–ç•¥ï¼ˆ'phase-lock'ã€'peak'ã€'zero-cross'ï¼‰
- `output_image_format`: è¾“å‡ºå›¾åƒæ ¼å¼ï¼ˆ'png'ã€'svg'ã€'pdf'ï¼‰
- `save_csv_data`: æ˜¯å¦ä¿å­˜è¾…åŠ© CSV æ•°æ®ï¼ˆé»˜è®¤ Falseï¼‰

#### 6.2.2 å‘½ä»¤è¡Œå·¥å…·æ–¹å¼

EyeAnalyzer æä¾›å‘½ä»¤è¡Œæ¥å£ï¼ˆéœ€å®ç° `eye_analyzer/cli.py`ï¼‰ï¼š

```bash
# åŸºç¡€åˆ†æ
python -m eye_analyzer --dat results.dat --ui 2.5e-11

# é«˜çº§é…ç½®
python -m eye_analyzer \
    --dat results.dat \
    --ui 2.5e-11 \
    --ui-bins 256 \
    --amp-bins 256 \
    --measure-length 5e-6 \
    --target-ber 1e-12 \
    --sampling phase-lock \
    --output-image-format svg \
    --save-csv-data

# æŸ¥çœ‹å¸®åŠ©
python -m eye_analyzer --help
```

**å‘½ä»¤è¡Œå‚æ•°æ˜ å°„**ï¼š
| å‘½ä»¤è¡Œå‚æ•° | API å‚æ•° | è¯´æ˜ |
|-----------|---------|------|
| `--dat` | `dat_path` | è¾“å…¥æ³¢å½¢æ–‡ä»¶ |
| `--ui` | `ui` | å•ä½é—´éš”ï¼ˆç§’ï¼‰ |
| `--ui-bins` | `ui_bins` | æ°´å¹³åˆ†è¾¨ç‡ |
| `--amp-bins` | `amp_bins` | å‚ç›´åˆ†è¾¨ç‡ |
| `--measure-length` | `measure_length` | ç»Ÿè®¡æ—¶é•¿ |
| `--target-ber` | `target_ber` | ç›®æ ‡è¯¯ç ç‡ |
| `--sampling` | `sampling` | é‡‡æ ·ç­–ç•¥ |
| `--output-image-format` | `output_image_format` | å›¾åƒæ ¼å¼ |
| `--save-csv-data` | `save_csv_data` | ä¿å­˜ CSV æ•°æ® |

#### 6.2.3 pytest æµ‹è¯•æ¡†æ¶æ–¹å¼

è¿è¡Œ EyeAnalyzer æµ‹è¯•å¹³å°ï¼ˆéœ€å®ç° `tests/test_eye_analyzer.py`ï¼‰ï¼š

```bash
# å®‰è£… pytest
pip install pytest pytest-html

# è¿è¡Œæ‰€æœ‰æµ‹è¯•
pytest tests/test_eye_analyzer.py -v

# è¿è¡Œç‰¹å®šæµ‹è¯•åœºæ™¯
pytest tests/test_eye_analyzer.py::test_basic_eye_analysis -v
pytest tests/test_eye_analyzer.py::test_jitter_decomposition -v
pytest tests/test_eye_analyzer.py::test_sampling_strategy -v

# ç”Ÿæˆ HTML æµ‹è¯•æŠ¥å‘Š
pytest tests/test_eye_analyzer.py -v --html=report.html --self-contained-html

# è¿è¡Œæ€§èƒ½æµ‹è¯•ï¼ˆå¤§æ•°æ®é‡ï¼‰
pytest tests/test_eye_analyzer.py::test_performance_stress -v -s

# è¿è¡Œå›å½’æµ‹è¯•ï¼ˆå¯¹æ¯”å‚è€ƒç»“æœï¼‰
pytest tests/test_eye_analyzer.py::test_regression_validation -v
```

**æµ‹è¯•åœºæ™¯å‚æ•°**ï¼š
æµ‹è¯•å¹³å°æ”¯æŒ 6 ä¸ªæ ¸å¿ƒåœºæ™¯ï¼Œé€šè¿‡ pytest å‘½ä»¤è¡Œé€‰æ‹©ï¼š
- `test_basic_eye_analysis`: åŸºç¡€çœ¼å›¾åˆ†æ
- `test_jitter_decomposition`: æŠ–åŠ¨åˆ†è§£ç²¾åº¦éªŒè¯
- `test_sampling_strategy`: é‡‡æ ·ç­–ç•¥å¯¹æ¯”
- `test_performance_stress`: å¤§æ•°æ®é‡æ€§èƒ½æµ‹è¯•
- `test_boundary_condition`: è¾¹ç•Œæ¡ä»¶å¤„ç†
- `test_regression_validation`: å›å½’æµ‹è¯•

#### 6.2.4 å…¸å‹è¿è¡Œç¤ºä¾‹

**ç¤ºä¾‹ 1ï¼šå¿«é€Ÿåˆ†æ**ï¼ˆé»˜è®¤å‚æ•°ï¼Œé€‚åˆåˆæ­¥è¯„ä¼°ï¼‰
```python
from eye_analyzer import analyze_eye

# å¿«é€Ÿåˆ†æï¼Œä½¿ç”¨é»˜è®¤å‚æ•°
metrics = analyze_eye('results.dat', ui=2.5e-11)

# ç»“æœè‡ªåŠ¨ä¿å­˜åˆ° eye_metrics.json å’Œ eye_diagram.png
print(f"åˆ†æå®Œæˆï¼çœ¼é«˜: {metrics['eye_geometry']['eye_height']*1000:.1f} mV")
```

**ç¤ºä¾‹ 2ï¼šé«˜ç²¾åº¦åˆ†æ**ï¼ˆé«˜åˆ†è¾¨ç‡ï¼Œé€‚åˆè¯¦ç»†ç ”ç©¶ï¼‰
```python
from eye_analyzer import analyze_eye

# é«˜ç²¾åº¦é…ç½®
metrics = analyze_eye(
    dat_path='results.dat',
    ui=2.5e-11,
    ui_bins=256,
    amp_bins=256,
    measure_length=5e-6,
    target_ber=1e-15,
    sampling='phase-lock',
    output_image_format='svg',
    output_image_dpi=600,
    save_csv_data=True,
    csv_data_path='detailed_analysis'
)

# ç”Ÿæˆè¯¦ç»†æŠ¥å‘Š
print(f"çœ¼é«˜: {metrics['eye_geometry']['eye_height']*1000:.2f} mV")
print(f"çœ¼å®½: {metrics['eye_geometry']['eye_width']*1000:.2f} mUI")
print(f"RJ: {metrics['jitter_decomposition']['rj_sigma']*1e12:.2f} ps")
print(f"DJ: {metrics['jitter_decomposition']['dj_pp']*1e12:.2f} ps")
```

**ç¤ºä¾‹ 3ï¼šæ‰¹é‡å¤„ç†**ï¼ˆå¤šä¸ªæ•°æ®æ–‡ä»¶ï¼‰
```python
from eye_analyzer import analyze_eye
import glob

# æ‰¹é‡å¤„ç†æ‰€æœ‰ .dat æ–‡ä»¶
for dat_file in glob.glob('*.dat'):
    print(f"åˆ†æ {dat_file}...")
    metrics = analyze_eye(dat_file, ui=2.5e-11)
    
    # ä¿å­˜å¸¦æ–‡ä»¶åçš„ç»“æœ
    output_name = dat_file.replace('.dat', '_metrics')
    # ç»“æœè‡ªåŠ¨ä¿å­˜åˆ° {output_name}.json
```

### 6.3 ç»“æœæŸ¥çœ‹

EyeAnalyzer ç”Ÿæˆå¤šç§æ ¼å¼çš„ç»“æœæ–‡ä»¶ï¼Œå¯ä½¿ç”¨ä¸åŒå·¥å…·æŸ¥çœ‹ã€‚

#### 6.3.1 JSON æŒ‡æ ‡æ–‡ä»¶æŸ¥çœ‹

ä½¿ç”¨ Python è¯»å–å’ŒæŸ¥çœ‹çœ¼å›¾æŒ‡æ ‡ï¼š

```python
import json

# è¯»å– JSON æ–‡ä»¶
with open('eye_metrics.json', 'r') as f:
    metrics = json.load(f)

# æŸ¥çœ‹çœ¼å›¾å‡ ä½•å‚æ•°
print("=== çœ¼å›¾å‡ ä½•å‚æ•° ===")
print(f"çœ¼é«˜: {metrics['eye_geometry']['eye_height']*1000:.2f} mV")
print(f"çœ¼å®½: {metrics['eye_geometry']['eye_width']*1000:.2f} mUI")
print(f"å¼€å£é¢ç§¯: {metrics['eye_geometry']['eye_area']*1e6:.2f} Î¼VÂ·UI")
print(f"çº¿æ€§åº¦è¯¯å·®: {metrics['eye_geometry']['linearity_error']*100:.2f}%")

# æŸ¥çœ‹æŠ–åŠ¨åˆ†è§£å‚æ•°
print("\n=== æŠ–åŠ¨åˆ†è§£å‚æ•° ===")
print(f"éšæœºæŠ–åŠ¨ RJ: {metrics['jitter_decomposition']['rj_sigma']*1e12:.2f} ps")
print(f"ç¡®å®šæ€§æŠ–åŠ¨ DJ: {metrics['jitter_decomposition']['dj_pp']*1e12:.2f} ps")
print(f"æ€»æŠ–åŠ¨ TJ@BER: {metrics['jitter_decomposition']['tj_at_ber']*1e12:.2f} ps")
print(f"ç›®æ ‡è¯¯ç ç‡: {metrics['jitter_decomposition']['target_ber']:.0e}")

# æŸ¥çœ‹ä¿¡å·è´¨é‡å‚æ•°
print("\n=== ä¿¡å·è´¨é‡å‚æ•° ===")
print(f"å‡å€¼: {metrics['signal_quality']['mean']*1000:.2f} mV")
print(f"RMS: {metrics['signal_quality']['rms']*1000:.2f} mV")
print(f"å³°å³°å€¼: {metrics['signal_quality']['peak_to_peak']*1000:.2f} mV")
```

ä½¿ç”¨å‘½ä»¤è¡Œå·¥å…·å¿«é€ŸæŸ¥çœ‹ï¼š
```bash
# ä½¿ç”¨ jq å·¥å…·ï¼ˆéœ€å®‰è£… jqï¼‰
jq '.eye_geometry' eye_metrics.json
jq '.jitter_decomposition' eye_metrics.json

# ä½¿ç”¨ Python å‘½ä»¤è¡Œ
python -c "import json; import sys; d=json.load(sys.stdin)" < eye_metrics.json
```

#### 6.3.2 çœ¼å›¾å›¾åƒæŸ¥çœ‹

EyeAnalyzer ç”Ÿæˆçš„çœ¼å›¾å›¾åƒå¯ä½¿ç”¨å¤šç§å·¥å…·æŸ¥çœ‹ï¼š

**ä½¿ç”¨ç³»ç»Ÿé»˜è®¤å›¾ç‰‡æŸ¥çœ‹å™¨**ï¼š
```bash
# Linux
xdg-open eye_diagram.png

# macOS
open eye_diagram.png

# Windows
start eye_diagram.png
```

**ä½¿ç”¨ Python äº¤äº’å¼æŸ¥çœ‹**ï¼š
```python
import matplotlib.pyplot as plt
import matplotlib.image as mpimg

# è¯»å–å¹¶æ˜¾ç¤ºå›¾åƒ
img = mpimg.imread('eye_diagram.png')
plt.figure(figsize=(10, 8))
plt.imshow(img)
plt.axis('off')
plt.title('Eye Diagram')
plt.show()
```

**ä½¿ç”¨ Surferï¼ˆmacOS æ¨èï¼‰**ï¼š
```bash
# Surfer æä¾›ä¼˜ç§€çš„æ³¢å½¢å’Œå›¾åƒæŸ¥çœ‹ä½“éªŒ
surfer eye_diagram.png &
```

#### 6.3.3 CSV è¾…åŠ©æ•°æ®æŸ¥çœ‹

å¯¹äºä¿å­˜çš„ CSV è¾…åŠ©æ•°æ®ï¼Œå¯ä½¿ç”¨ pandas è¿›è¡Œåˆ†æï¼š

```python
import pandas as pd
import matplotlib.pyplot as plt

# è¯»å–äºŒç»´å¯†åº¦çŸ©é˜µ
df_hist = pd.read_csv('eye_analysis_data/hist2d.csv')

# è¯»å– PSD æ•°æ®
df_psd = pd.read_csv('eye_analysis_data/psd.csv')

# è¯»å– PDF æ•°æ®
df_pdf = pd.read_csv('eye_analysis_data/pdf.csv')

# ç»˜åˆ¶ PSD
plt.figure(figsize=(10, 6))
plt.semilogx(df_psd['frequency_hz'], 10*np.log10(df_psd['psd_v2_per_hz']))
plt.xlabel('Frequency (Hz)')
plt.ylabel('PSD (dBm/Hz)')
plt.title('Power Spectral Density')
plt.grid(True)
plt.show()

# ç»˜åˆ¶ PDF
plt.figure(figsize=(10, 6))
plt.plot(df_pdf['amplitude_v'], df_pdf['probability_density'])
plt.xlabel('Amplitude (V)')
plt.ylabel('Probability Density')
plt.title('Probability Density Function')
plt.grid(True)
plt.show()
```

#### 6.3.4 äº¤äº’å¼å¯è§†åŒ–å·¥å…·

**ä½¿ç”¨ Jupyter Notebook/Lab**ï¼š
```python
import json
import matplotlib.pyplot as plt
from IPython.display import Image, display

# åŠ è½½ JSON æŒ‡æ ‡
with open('eye_metrics.json', 'r') as f:
    metrics = json.load(f)

# æ˜¾ç¤ºçœ¼å›¾å›¾åƒ
display(Image(filename='eye_diagram.png'))

# ç»˜åˆ¶æŒ‡æ ‡æ±‡æ€»
fig, axes = plt.subplots(2, 2, figsize=(12, 10))

# çœ¼å›¾å‡ ä½•å‚æ•°
axes[0, 0].bar(['Eye Height', 'Eye Width', 'Eye Area'], 
               [metrics['eye_geometry']['eye_height']*1000,
                metrics['eye_geometry']['eye_width']*1000,
                metrics['eye_geometry']['eye_area']*1e6])
axes[0, 0].set_title('Eye Geometry')
axes[0, 0].set_ylabel('Value')

# æŠ–åŠ¨åˆ†è§£å‚æ•°
axes[0, 1].bar(['RJ', 'DJ', 'TJ@BER'], 
               [metrics['jitter_decomposition']['rj_sigma']*1e12,
                metrics['jitter_decomposition']['dj_pp']*1e12,
                metrics['jitter_decomposition']['tj_at_ber']*1e12])
axes[0, 1].set_title('Jitter Decomposition')
axes[0, 1].set_ylabel('Jitter (ps)')

# ä¿¡å·è´¨é‡å‚æ•°
axes[1, 0].bar(['Mean', 'RMS'], 
               [metrics['signal_quality']['mean']*1000,
                metrics['signal_quality']['rms']*1000])
axes[1, 0].set_title('Signal Quality')
axes[1, 0].set_ylabel('Voltage (mV)')

# å…ƒæ•°æ®
axes[1, 1].text(0.1, 0.5, f"UI: {metrics['metadata']['ui']*1e12:.2f} ps\n"
                             f"UI Bins: {metrics['metadata']['ui_bins']}\n"
                             f"Amp Bins: {metrics['metadata']['amp_bins']}\n"
                             f"Target BER: {metrics['jitter_decomposition']['target_ber']:.0e}",
                fontsize=12, verticalalignment='center')
axes[1, 1].set_title('Metadata')
axes[1, 1].axis('off')

plt.tight_layout()
plt.show()
```

**ä½¿ç”¨ Plotly åˆ›å»ºäº¤äº’å¼å›¾è¡¨**ï¼š
```python
import plotly.graph_objects as go
import json

# è¯»å– JSON æ•°æ®
with open('eye_metrics.json', 'r') as f:
    metrics = json.load(f)

# åˆ›å»ºäº¤äº’å¼çœ¼å›¾æŒ‡æ ‡ä»ªè¡¨æ¿
fig = go.Figure()

# æ·»åŠ çœ¼å›¾å‡ ä½•å‚æ•°
fig.add_trace(go.Bar(
    x=['çœ¼é«˜ (mV)', 'çœ¼å®½ (mUI)', 'å¼€å£é¢ç§¯ (Î¼VÂ·UI)'],
    y=[metrics['eye_geometry']['eye_height']*1000,
       metrics['eye_geometry']['eye_width']*1000,
       metrics['eye_geometry']['eye_area']*1e6],
    name='çœ¼å›¾å‡ ä½•å‚æ•°'
))

fig.update_layout(
    title='Eye Analyzer äº¤äº’å¼ç»“æœ',
    xaxis_title='å‚æ•°',
    yaxis_title='æ•°å€¼',
    showlegend=True
)

fig.show()
```

#### 6.3.5 è‡ªåŠ¨åŒ–æŠ¥å‘Šç”Ÿæˆ

**ä½¿ç”¨ ReportGenerator ç”Ÿæˆç»¼åˆæŠ¥å‘Š**ï¼š
```python
from eye_analyzer.report_generator import ReportGenerator

# åˆ›å»ºæŠ¥å‘Šç”Ÿæˆå™¨
report_gen = ReportGenerator(
    output_dir='test_reports',
    include_charts=True,
    chart_format='svg',
    compare_with_history=True,
    history_depth=10
)

# ç”Ÿæˆ HTML æŠ¥å‘Š
report_gen.generate_report(
    metrics_file='eye_metrics.json',
    eye_image='eye_diagram.png',
    csv_data_dir='eye_analysis_data',
    test_name='basic_eye_analysis',
    reference_file='ref_metrics.json'
)

print("æŠ¥å‘Šå·²ç”Ÿæˆ: test_reports/eye_analysis_report.html")
```

**åœ¨ CI/CD ä¸­é›†æˆæŠ¥å‘Š**ï¼š
```yaml
# GitHub Actions ç¤ºä¾‹
- name: Run Eye Analyzer
  run: |
    python -m eye_analyzer --dat results.dat --ui 2.5e-11
    
- name: Upload Report
  uses: actions/upload-artifact@v3
  with:
    name: eye-analysis-report
    path: |
      eye_metrics.json
      eye_diagram.png
      eye_analysis_data/
```

## 7. æŠ€æœ¯è¦ç‚¹

### 7.1 ä¸ºä»€ä¹ˆéœ€è¦è‡³å°‘10,000 UIæ•°æ®

çœ¼å›¾åˆ†æåŸºäºç»Ÿè®¡æ–¹æ³•ï¼Œéœ€è¦è¶³å¤Ÿæ ·æœ¬ä¿è¯å¤§æ•°å®šå¾‹æ”¶æ•›ã€‚æµ‹è¯•è¡¨æ˜ï¼š
- < 1,000 UIï¼šæŒ‡æ ‡æ³¢åŠ¨ > 30%ï¼Œç½®ä¿¡åº¦ä½
- 10,000 UIï¼šæŒ‡æ ‡æ³¢åŠ¨ < 10%ï¼ŒåŸºæœ¬å¯ç”¨
- 100,000 UIï¼šæŒ‡æ ‡æ³¢åŠ¨ < 3%ï¼Œæ¨èå€¼
- > 1,000,000 UIï¼šæŒ‡æ ‡æ³¢åŠ¨ < 1%ï¼Œé€‚ç”¨äºé«˜ç²¾åº¦åˆ†æ

### 7.2 ui_binså’Œamp_binsçš„é€‰æ‹©æƒè¡¡

- **åˆ†è¾¨ç‡è¿‡ä½**ï¼ˆ< 64 binsï¼‰ï¼šçœ¼å›¾è½®å»“æ¨¡ç³Šï¼ŒæŒ‡æ ‡è®¡ç®—è¯¯å·®å¤§
- **åˆ†è¾¨ç‡è¿‡é«˜**ï¼ˆ> 512 binsï¼‰ï¼šè®¡ç®—æ—¶é—´å¢åŠ ï¼Œå†…å­˜å ç”¨å¤§ï¼Œç»Ÿè®¡å™ªå£°æ˜æ˜¾
- **æ¨èå€¼**ï¼š128-256 binsï¼Œåœ¨ç²¾åº¦å’Œæ€§èƒ½é—´å–å¾—å¹³è¡¡
- **ç‰¹æ®Šåœºæ™¯**ï¼šè¶…é«˜é€Ÿé“¾è·¯ï¼ˆ> 50Gbpsï¼‰å»ºè®®ä½¿ç”¨256 binsä»¥ä¸Š

### 7.3 ç›¸ä½ä¼°è®¡è¯¯å·®å¯¹çœ¼å®½çš„å½±å“

ä»¿çœŸè¡¨æ˜ï¼Œç›¸ä½ä¼°è®¡è¯¯å·®Î”Ï†ä¼šå¯¼è‡´çœ¼å®½æµ‹é‡åå·®ï¼š
```
Î”eye_width â‰ˆ -2 Ã— Î”Ï† (å½“Î”Ï† < 0.1 UIæ—¶)
```
phase-lockç­–ç•¥çš„ç›¸ä½è¯¯å·®é€šå¸¸< 0.01 UIï¼Œå¯¹åº”çœ¼å®½åå·®< 2%

### 7.4 æŠ–åŠ¨åˆ†è§£çš„æ ·æœ¬é‡è¦æ±‚

åŒç‹„æ‹‰å…‹æ¨¡å‹éœ€è¦è¶³å¤Ÿçš„äº¤å‰ç‚¹æ ·æœ¬ï¼š
- RJæå–ï¼šè‡³å°‘1,000ä¸ªäº¤å‰ç‚¹
- DJæå–ï¼šè‡³å°‘5,000ä¸ªäº¤å‰ç‚¹
- TJ@BERè®¡ç®—ï¼šè‡³å°‘10,000ä¸ªäº¤å‰ç‚¹

å¯¹äºPRBS-31ï¼Œ10,000 UIçº¦äº§ç”Ÿ5,000ä¸ªäº¤å‰ç‚¹ï¼ˆå¯†åº¦çº¦0.5ï¼‰

### 7.5 å†…å­˜ä¼˜åŒ–ç­–ç•¥

EyeAnalyzerçš„å†…å­˜å ç”¨ä¸»è¦æ¥è‡ªï¼š
- æ³¢å½¢æ•°ç»„ï¼šN Ã— 16 bytes (float64)
- äºŒç»´ç›´æ–¹å›¾ï¼šui_bins Ã— amp_bins Ã— 8 bytes
- ä¸­é—´æ•°ç»„ï¼šçº¦2-3å€æ³¢å½¢æ•°ç»„å¤§å°

ä¼˜åŒ–å»ºè®®ï¼š
- ä½¿ç”¨`measure_length`æˆªå–æ•°æ®ï¼Œé¿å…åŠ è½½å…¨é‡æ³¢å½¢
- é€‚å½“é™ä½`ui_bins`å’Œ`amp_bins`åˆ†è¾¨ç‡
- ä½¿ç”¨`np.float32`ä»£æ›¿`np.float64`ï¼ˆç²¾åº¦æŸå¤±< 1%ï¼‰

### 7.6 ä¸å…¶ä»–çœ¼å›¾åˆ†æå·¥å…·çš„å¯¹æ¯”

| å·¥å…· | ä¼˜ç‚¹ | ç¼ºç‚¹ | é€‚ç”¨åœºæ™¯ |
|------|------|------|---------|
| **EyeAnalyzer** | é›†æˆæŠ–åŠ¨åˆ†è§£ã€Pythonç”Ÿæ€ã€å¼€æº | æ€§èƒ½ä½äºå•†ä¸šå·¥å…· | ç ”å‘ã€CI/CD |
| **Keysight ADS** | ç²¾åº¦é«˜ã€åŠŸèƒ½å…¨é¢ | æ˜‚è´µã€å°é—­ | é‡äº§æµ‹è¯• |
| **MATLAB** | ç®—æ³•çµæ´»ã€å¯è§†åŒ–å¼º | æˆæœ¬é«˜ã€éƒ¨ç½²å¤æ‚ | ç®—æ³•ç ”ç©¶ |

### 7.7 å·²çŸ¥é™åˆ¶

- ä¸æ”¯æŒPAM-4åŠä»¥ä¸Šè°ƒåˆ¶æ ¼å¼ï¼ˆä»…NRZï¼‰
- åŒç‹„æ‹‰å…‹æ¨¡å‹å‡è®¾é«˜æ–¯åˆ†å¸ƒï¼Œå¯¹å¼ºéé«˜æ–¯æŠ–åŠ¨ç²¾åº¦ä¸‹é™
- å¤§æ•°æ®é›†ï¼ˆ> 50M UIï¼‰éœ€è¦> 32GBå†…å­˜
- ä¸æ”¯æŒå®æ—¶çœ¼å›¾åˆ†æï¼ˆä»…åå¤„ç†ï¼‰

## 8. å‚è€ƒä¿¡æ¯

### 8.1 ç›¸å…³æ–‡ä»¶

EyeAnalyzerä½œä¸ºSerDesé¡¹ç›®çš„Pythonåå¤„ç†ç»„ä»¶ï¼Œç›¸å…³æ–‡ä»¶åˆ†å¸ƒåœ¨é¡¹ç›®å¤šä¸ªç›®å½•ä¸­ã€‚ä»¥ä¸‹æ˜¯å®Œæ•´çš„æ–‡ä»¶æ¸…å•ï¼š

| æ–‡ä»¶ç±»åˆ« | æ–‡ä»¶è·¯å¾„ | è¯´æ˜ |
|---------|---------|------|
| **æ ¸å¿ƒæ¨¡å—** | `scripts/eye_analyzer.py` | EyeAnalyzerä¸»æ¨¡å—å®ç° |
| | `scripts/analyze_eye.py` | å‘½ä»¤è¡Œæ¥å£è„šæœ¬ |
| **æµ‹è¯•æ¡†æ¶** | `tests/unit/test_eye_analyzer.py` | å•å…ƒæµ‹è¯•å¥—ä»¶ï¼ˆ6ä¸ªæµ‹è¯•åœºæ™¯ï¼‰ |
| | `tests/performance/test_eye_performance.py` | æ€§èƒ½åŸºå‡†æµ‹è¯• |
| **è¾…åŠ©å·¥å…·** | `scripts/plot_ctle_waveform.py` | æ³¢å½¢å¯è§†åŒ–è„šæœ¬ï¼ˆå‚è€ƒï¼‰ |
| | `scripts/run_ctle_tests.sh` | CTLEæµ‹è¯•è¿è¡Œè„šæœ¬ï¼ˆå‚è€ƒï¼‰ |
| **é…ç½®æ¨¡æ¿** | `config/default.json` | é¡¹ç›®é»˜è®¤JSONé…ç½®ï¼ˆå«EyeAnalyzerå‚æ•°ï¼‰ |
| | `config/default.yaml` | é¡¹ç›®é»˜è®¤YAMLé…ç½®ï¼ˆå«EyeAnalyzerå‚æ•°ï¼‰ |
| **æ–‡æ¡£** | `docs/modules/EyeAnalyzer.md` | æœ¬æŠ€æœ¯æ–‡æ¡£ |
| | `docs/checklist.md` | æ¨¡å—æ–‡æ¡£æ£€æŸ¥æ¸…å• |
| **é¡¹ç›®æ„å»º** | `CMakeLists.txt` | CMakeæ„å»ºé…ç½® |
| | `Makefile` | Makefileæ„å»ºé…ç½® |
| | `Dockerfile` | Dockerå®¹å™¨é…ç½® |
| **ä¾èµ–ç®¡ç†** | `requirements.txt` | Pythonä¾èµ–åŒ…åˆ—è¡¨ï¼ˆå¦‚å­˜åœ¨ï¼‰ |

> **æ³¨**ï¼šEyeAnalyzerä¸ºPythonåˆ†æç»„ä»¶ï¼Œä¸SystemC-AMSä»¿çœŸæ¨¡å—ä¸åŒï¼Œæ— éœ€C++ç¼–è¯‘æ„å»ºã€‚ä¸»è¦ä¾èµ–Pythonè§£é‡Šå™¨å’Œç›¸å…³ç§‘å­¦è®¡ç®—åº“ã€‚

### 8.2 ä¾èµ–é¡¹

EyeAnalyzerä¾èµ–ä»¥ä¸‹Pythonåº“ï¼Œå»ºè®®ä½¿ç”¨è™šæ‹Ÿç¯å¢ƒéš”ç¦»å®‰è£…ï¼š

#### 8.2.1 æ ¸å¿ƒä¾èµ–ï¼ˆå¿…éœ€ï¼‰

| åº“åç§° | ç‰ˆæœ¬è¦æ±‚ | ç”¨é€” |
|-------|---------|------|
| **Python** | â‰¥ 3.8 (æ¨è3.10+) | è¿è¡Œç¯å¢ƒ |
| **numpy** | â‰¥ 1.20.0 | æ•°å€¼è®¡ç®—ã€æ•°ç»„æ“ä½œ |
| **scipy** | â‰¥ 1.7.0 | ç§‘å­¦è®¡ç®—ï¼ˆPSDã€PDFã€ç»Ÿè®¡ï¼‰ |
| **matplotlib** | â‰¥ 3.5.0 | çœ¼å›¾ç»˜åˆ¶ä¸å¯è§†åŒ– |

#### 8.2.2 å¯é€‰ä¾èµ–ï¼ˆæ¨èå®‰è£…ï¼‰

| åº“åç§° | ç‰ˆæœ¬è¦æ±‚ | ç”¨é€” |
|-------|---------|------|
| **pandas** | â‰¥ 1.3.0 | JSON/CSVæ•°æ®å¤„ç†ã€DataFrame |
| **pytest** | â‰¥ 7.0.0 | æµ‹è¯•æ¡†æ¶ |
| **memory_profiler** | â‰¥ 0.60.0 | å†…å­˜ä½¿ç”¨åˆ†æ |
| **tqdm** | â‰¥ 4.60.0 | è¿›åº¦æ¡æ˜¾ç¤ºï¼ˆå¤§æ•°æ®é‡æ—¶ï¼‰ |
| **PyYAML** | â‰¥ 6.0 | YAMLé…ç½®æ–‡ä»¶è§£æ |

#### 8.2.3 å¼€å‘ä¾èµ–ï¼ˆå¼€å‘å’ŒCI/CDï¼‰

| åº“åç§° | ç‰ˆæœ¬è¦æ±‚ | ç”¨é€” |
|-------|---------|------|
| **pytest-html** | â‰¥ 3.0.0 | ç”ŸæˆHTMLæµ‹è¯•æŠ¥å‘Š |
| **pytest-cov** | â‰¥ 3.0.0 | ä»£ç è¦†ç›–ç‡ç»Ÿè®¡ |
| **black** | â‰¥ 22.0.0 | ä»£ç æ ¼å¼åŒ– |
| **flake8** | â‰¥ 4.0.0 | ä»£ç é£æ ¼æ£€æŸ¥ |
| **mypy** | â‰¥ 0.950 | ç±»å‹æ£€æŸ¥ |

#### 8.2.4 å®‰è£…å‘½ä»¤

```bash
# åŸºç¡€å®‰è£…ï¼ˆå¿…éœ€ä¾èµ–ï¼‰
pip install numpy scipy matplotlib

# æ¨èå®‰è£…ï¼ˆåŒ…å«å¯é€‰ä¾èµ–ï¼‰
pip install numpy scipy matplotlib pandas pytest memory_profiler

# å®Œæ•´å®‰è£…ï¼ˆåŒ…å«å¼€å‘ä¾èµ–ï¼‰
pip install -r requirements-dev.txt

# ä»requirements.txtå®‰è£…
pip install -r requirements.txt
```

### 8.3 é…ç½®ç¤ºä¾‹

#### 8.3.1 åŸºç¡€é…ç½®ï¼ˆ10Gbps NRZä¿¡å·ï¼‰

```json
{
  "eye_analyzer": {
    "ui": 2.5e-11,
    "ui_bins": 128,
    "amp_bins": 128,
    "measure_length": 2.5e-6,
    "target_ber": 1e-12,
    "sampling": "phase-lock",
    "output_image_format": "png",
    "output_image_dpi": 300,
    "save_csv_data": false
  }
}
```

#### 8.3.2 é«˜ç²¾åº¦é…ç½®ï¼ˆ25Gbps PAM4ä¿¡å·ï¼‰

```json
{
  "eye_analyzer": {
    "ui": 1.6e-11,
    "ui_bins": 256,
    "amp_bins": 256,
    "measure_length": 5e-6,
    "target_ber": 1e-15,
    "sampling": "phase-lock",
    "jitter_extract_method": "dual-dirac",
    "psd_nperseg": 32768,
    "output_image_format": "svg",
    "output_image_dpi": 600,
    "save_csv_data": true,
    "csv_data_path": "detailed_analysis"
  }
}
```

#### 8.3.3 å¿«é€Ÿåˆ†æé…ç½®ï¼ˆç”¨äºè°ƒè¯•ï¼‰

```json
{
  "eye_analyzer": {
    "ui": 2.5e-11,
    "ui_bins": 64,
    "amp_bins": 64,
    "measure_length": 1e-6,
    "target_ber": 1e-9,
    "sampling": "peak",
    "hist2d_normalize": false,
    "output_image_format": "png",
    "output_image_dpi": 150
  }
}
```

#### 8.3.4 YAMLæ ¼å¼é…ç½®ç¤ºä¾‹

```yaml
eye_analyzer:
  ui: 2.5e-11
  ui_bins: 128
  amp_bins: 128
  measure_length: 2.5e-6
  target_ber: 1e-12
  sampling: phase-lock
  jitter_extract_method: dual-dirac
  output_image_format: png
  output_image_dpi: 300
  save_csv_data: false
```

#### 8.3.5 å¤šé€Ÿç‡é“¾è·¯é…ç½®ï¼ˆæ”¯æŒä¸åŒé€Ÿç‡ï¼‰

```json
{
  "eye_analyzer": {
    "multi_rate": {
      "10Gbps": {
        "ui": 2.5e-11,
        "ui_bins": 128,
        "amp_bins": 128
      },
      "25Gbps": {
        "ui": 1.0e-11,
        "ui_bins": 192,
        "amp_bins": 192
      },
      "56Gbps": {
        "ui": 1.7857e-11,
        "ui_bins": 256,
        "amp_bins": 256
      }
    },
    "common": {
      "measure_length": 2.5e-6,
      "target_ber": 1e-12,
      "sampling": "phase-lock",
      "output_image_format": "png"
    }
  }
}
```

## 6. è¿è¡ŒæŒ‡å—

### 6.1 ç¯å¢ƒé…ç½®

è¿è¡ŒEyeAnalyzeréœ€è¦é…ç½®Pythonç¯å¢ƒå¹¶å®‰è£…ä¾èµ–åº“ï¼š

**Pythonç‰ˆæœ¬è¦æ±‚**ï¼š
- Python 3.8æˆ–ä»¥ä¸Šç‰ˆæœ¬ï¼ˆæ¨èä½¿ç”¨Python 3.10+ï¼‰

**æ ¸å¿ƒä¾èµ–åº“**ï¼š
```bash
# ä½¿ç”¨pipå®‰è£…æ ¸å¿ƒä¾èµ–
pip install numpy>=1.21.0 scipy>=1.7.0 matplotlib>=3.5.0

# å¯é€‰ä¾èµ–ï¼ˆç”¨äºå¢å¼ºåŠŸèƒ½ï¼‰
pip install pandas>=1.3.0  # ç”¨äºCSV/JSONé«˜çº§å¤„ç†
pip install pytest>=7.0.0  # ç”¨äºè¿è¡Œæµ‹è¯•å¥—ä»¶
pip install memory-profiler>=0.60.0  # ç”¨äºæ€§èƒ½åˆ†æ
```

**ç¯å¢ƒå˜é‡è®¾ç½®**ï¼ˆå¯é€‰ï¼‰ï¼š
```bash
# è®¾ç½®NumPyçº¿ç¨‹æ•°ï¼ˆæ§åˆ¶CPUä½¿ç”¨ï¼‰
export OMP_NUM_THREADS=4
export MKL_NUM_THREADS=4

# è®¾ç½®matplotlibåç«¯ï¼ˆæ— å¤´æœåŠ¡å™¨ç¯å¢ƒï¼‰
export MPLBACKEND=Agg
```

**æ¨èå¼€å‘ç¯å¢ƒ**ï¼š
- **IDE**ï¼šPyCharm Professionalæˆ–VS Code with Pythonæ’ä»¶
- **Jupyter**ï¼šç”¨äºäº¤äº’å¼åˆ†æå’Œå¯è§†åŒ–
- **Surfer**ï¼šmacOSå¹³å°æ¨èçš„æ³¢å½¢æŸ¥çœ‹å·¥å…·

### 6.2 æ„å»ºä¸è¿è¡Œ

EyeAnalyzerä½œä¸ºPythonåˆ†æåº“ï¼Œæ— éœ€ç¼–è¯‘æ„å»ºï¼Œç›´æ¥å®‰è£…å’Œå¯¼å…¥ä½¿ç”¨ï¼š

**å®‰è£…æ–¹å¼**ï¼š
```bash
# ä»æºç å®‰è£…ï¼ˆå¼€å‘æ¨¡å¼ï¼‰
cd /path/to/SerDesSystemCProject
pip install -e .

# æˆ–ä½œä¸ºç‹¬ç«‹æ¨¡å—å®‰è£…
pip install -e scripts/
```

**åŸºæœ¬ä½¿ç”¨ç¤ºä¾‹**ï¼š
```python
from eye_analyzer import EyeAnalyzer

# åˆ›å»ºåˆ†æå™¨å®ä¾‹
analyzer = EyeAnalyzer(
    dat_path='results.dat',
    ui=2.5e-11,  # 10Gbps
    ui_bins=128,
    amp_bins=128,
    measure_length=2.5e-6,
    target_ber=1e-12
)

# æ‰§è¡Œåˆ†æ
metrics = analyzer.analyze()

# æŸ¥çœ‹ç»“æœ
print(f"çœ¼é«˜: {metrics['eye_geometry']['eye_height']*1000:.1f} mV")
print(f"çœ¼å®½: {metrics['eye_geometry']['eye_width']:.3f} UI")
print(f"RJ: {metrics['jitter_decomposition']['rj_sigma']*1e12:.1f} ps")
```

**å‘½ä»¤è¡Œæ¥å£ï¼ˆCLIï¼‰**ï¼š
```bash
# åˆ†æçœ¼å›¾å¹¶ç”ŸæˆæŠ¥å‘Š
python scripts/analyze_eye.py \
  --dat results.dat \
  --ui 2.5e-11 \
  --ui-bins 128 \
  --amp-bins 128 \
  --target-ber 1e-12 \
  --output-dir ./eye_results

# è¿è¡Œç‰¹å®šæµ‹è¯•åœºæ™¯
pytest tests/unit/test_eye_analyzer.py -v -k "basic_eye"

# æ€§èƒ½åŸºå‡†æµ‹è¯•
pytest tests/performance/test_eye_performance.py --benchmark-only
```

**æ‰¹é‡å¤„ç†è„šæœ¬**ï¼š
```bash
#!/bin/bash
# batch_analyze.sh - æ‰¹é‡å¤„ç†å¤šä¸ªæ•°æ®æ–‡ä»¶

for dat_file in /data/*.dat; do
  echo "Processing $dat_file..."
  python scripts/analyze_eye.py \
    --dat "$dat_file" \
    --ui 2.5e-11 \
    --output-dir "./results/$(basename $dat_file .dat)"
done
```

### 6.3 ç»“æœæŸ¥çœ‹

**æŸ¥çœ‹JSONæŒ‡æ ‡æ–‡ä»¶**ï¼š
```python
import json

with open('eye_metrics.json', 'r') as f:
    metrics = json.load(f)

# æ‰“å°å…³é”®æŒ‡æ ‡
print(f"çœ¼é«˜: {metrics['eye_geometry']['eye_height']*1000:.1f} mV")
print(f"çœ¼å®½: {metrics['eye_geometry']['eye_width']:.3f} UI")
print(f"å¼€å£é¢ç§¯: {metrics['eye_geometry']['eye_area']:.3f} VÂ·UI")
print(f"RJ: {metrics['jitter_decomposition']['rj_sigma']*1e12:.1f} ps")
print(f"DJ: {metrics['jitter_decomposition']['dj_pp']*1e12:.1f} ps")
print(f"TJ@1e-12: {metrics['jitter_decomposition']['tj_at_ber']*1e12:.1f} ps")
```

**å¯è§†åŒ–çœ¼å›¾å›¾åƒ**ï¼š
```python
import matplotlib.pyplot as plt
import matplotlib.image as mpimg

# æ˜¾ç¤ºçœ¼å›¾
img = mpimg.imread('eye_diagram.png')
plt.figure(figsize=(10, 6))
plt.imshow(img)
plt.axis('off')
plt.title('Eye Diagram')
plt.show()

# æŸ¥çœ‹PSDå’ŒPDF
import pandas as pd

psd = pd.read_csv('eye_analysis_data/psd.csv')
pdf = pd.read_csv('eye_analysis_data/pdf.csv')

fig, (ax1, ax2) = plt.subplots(1, 2, figsize=(12, 5))
ax1.semilogy(psd['frequency_hz'], psd['psd_v2_per_hz'])
ax1.set_xlabel('Frequency (Hz)')
ax1.set_ylabel('PSD (VÂ²/Hz)')
ax1.set_title('Power Spectral Density')

ax2.plot(pdf['amplitude_v'], pdf['probability_density'])
ax2.set_xlabel('Amplitude (V)')
ax2.set_ylabel('Probability Density')
ax2.set_title('Probability Density Function')

plt.tight_layout()
plt.show()
```

## 7. æŠ€æœ¯è¦ç‚¹

### 7.1 è®¾è®¡å†³ç­–æ€»ç»“

#### ä¸ºä»€ä¹ˆé€‰æ‹© `phase-lock` ä½œä¸ºé»˜è®¤é‡‡æ ·ç­–ç•¥

**è®¾è®¡è€ƒé‡**ï¼š
- **ç‰©ç†æ„ä¹‰æ˜ç¡®**ï¼šåŸºäºé“¾è·¯æ—¶é’Ÿå‚æ•°è®¡ç®—ç†æƒ³é‡‡æ ·ç›¸ä½ï¼Œç¬¦åˆå®é™…CDRç”µè·¯è¡Œä¸º
- **é²æ£’æ€§å¼º**ï¼šå¯¹å™ªå£°å’Œå¤±çœŸæ•æ„Ÿåº¦ä½ï¼Œåœ¨ä¿¡å·è´¨é‡è¾ƒå·®æ—¶ä»ä¿æŒç¨³å®š
- **å·¥ç¨‹å®è·µä¸€è‡´**ï¼šæ¨¡æ‹ŸçœŸå®SerDesç³»ç»Ÿä¸­CDRé”å®šåçš„å›ºå®šé‡‡æ ·ç›¸ä½

**æƒè¡¡åˆ†æ**ï¼š
- `peak`ç­–ç•¥ï¼šé«˜SNRä¸‹æœ€ä¼˜ï¼Œä½†å¯¹å¹…åº¦å™ªå£°æ•æ„Ÿ
- `zero-cross`ç­–ç•¥ï¼šé€‚ç”¨äºæ—¶é’Ÿæ¢å¤éªŒè¯ï¼Œä¸é€‚ç”¨äºæ•°æ®é‡‡æ ·
- `phase-lock`ç­–ç•¥ï¼šç»¼åˆæ€§èƒ½å’Œé²æ£’æ€§æœ€ä½³å¹³è¡¡

#### ä¸ºä»€ä¹ˆä½¿ç”¨äºŒç»´ç›´æ–¹å›¾è€Œéé€ç‚¹ç»˜åˆ¶

**æ€§èƒ½ä¼˜åŠ¿**ï¼š
- **è®¡ç®—æ•ˆç‡**ï¼šæ—¶é—´å¤æ‚åº¦O(N)ï¼Œé€ç‚¹ç»˜åˆ¶ä¸ºO(NÃ—æ¸²æŸ“å¼€é”€)
- **å†…å­˜å ç”¨**ï¼šå›ºå®šå¤§å°(ui_binsÃ—amp_bins)ï¼Œä¸æ•°æ®é‡æ— å…³

**ç»Ÿè®¡ç‰¹æ€§**ï¼š
- **æ¦‚ç‡å¯†åº¦å¯è§†åŒ–**ï¼šé¢œè‰²å¼ºåº¦ç›´æ¥åæ˜ ä¿¡å·å‡ºç°æ¦‚ç‡
- **å™ªå£°æŠ‘åˆ¶**ï¼šbinningæ“ä½œå¯¹é«˜é¢‘å™ªå£°æœ‰å¤©ç„¶å¹³æ»‘ä½œç”¨

#### ä¸ºä»€ä¹ˆé‡‡ç”¨åŒç‹„æ‹‰å…‹æ¨¡å‹è¿›è¡ŒæŠ–åŠ¨åˆ†è§£

**æ¨¡å‹åˆç†æ€§**ï¼š
- **ç‰©ç†åŸºç¡€åšå®**ï¼šæ•°æ®"0"å’Œ"1"ä¼ è¾“æ—¶åºæœä»é«˜æ–¯åˆ†å¸ƒï¼Œç¬¦åˆä¸­å¿ƒæé™å®šç†
- **ä¸šç•Œæ ‡å‡†**ï¼šIEEE 802.3ã€OIF-CEIç­‰é«˜é€Ÿæ¥å£æ ‡å‡†æ¨èæ–¹æ³•

**è®¡ç®—ç®€æ´æ€§**ï¼š
- **å‚æ•°å°‘**ï¼šä»…éœ€RJæ ‡å‡†å·®å’ŒDJå³°å³°å€¼ä¸¤ä¸ªå‚æ•°
- **è§£æè§£**ï¼šTJ@BERå¯é€šè¿‡Qå‡½æ•°ç›´æ¥è®¡ç®—ï¼Œæ— éœ€æ•°å€¼ç§¯åˆ†

**å±€é™æ€§**ï¼š
- å‡è®¾æŠ–åŠ¨åˆ†å¸ƒä¸ºé«˜æ–¯å‹ï¼Œå¼ºéé«˜æ–¯æŠ–åŠ¨ç²¾åº¦å¯èƒ½ä¸‹é™
- å¯åˆ‡æ¢ä¸º`tail-fit`æ–¹æ³•ï¼Œä½†è®¡ç®—å¤æ‚åº¦å¢åŠ 

#### ä¸ºä»€ä¹ˆéœ€è¦ `measure_length` å‚æ•°

**ç¬æ€è¿‡ç¨‹æ’é™¤**ï¼š
- é“¾è·¯å¯åŠ¨åˆæœŸå­˜åœ¨CDRé”å®šã€è‡ªé€‚åº”å‡è¡¡æ”¶æ•›ç­‰ç¬æ€è¿‡ç¨‹
- CTLE/DFEéœ€è¦ä¸€å®šæ—¶é—´æ”¶æ•›åˆ°æœ€ä¼˜ç³»æ•°

**ç»Ÿè®¡ç¨³å®šæ€§**ï¼š
- åŸºäºå¤§æ•°å®šå¾‹ï¼Œéœ€è¦è¶³å¤ŸUIæ ·æœ¬ä¿è¯æŒ‡æ ‡æ”¶æ•›
- é¿å…ç¬æ€è¿‡ç¨‹å¼•å…¥ç»Ÿè®¡åå·®

### 7.2 å…³é”®å®ç°ç»†èŠ‚

**ç›¸ä½æ˜ å°„ç²¾åº¦**ï¼š
- ä½¿ç”¨åŒç²¾åº¦æµ®ç‚¹æ•°è®¡ç®—`phi = (t % UI) / UI`
- å¯¹äº10Gbpsä¿¡å·(UI=2.5e-11s)ï¼Œç›¸ä½åˆ†è¾¨ç‡å¯è¾¾1e-15é‡çº§

**äºŒç»´ç›´æ–¹å›¾æ„å»º**ï¼š
- `numpy.histogram2d`è‡ªåŠ¨å¤„ç†è¾¹ç•Œæƒ…å†µ
- `density=True`ç¡®ä¿æ¦‚ç‡å¯†åº¦å½’ä¸€åŒ–ï¼ˆç§¯åˆ†é¢ç§¯ä¸º1ï¼‰

**æŠ–åŠ¨åˆ†è§£æ•°å€¼ç¨³å®šæ€§**ï¼š
- å¯¹çœ¼å›¾äº¤å‰åŒºåŸŸè¿›è¡Œé«˜æ–¯æ‹Ÿåˆæ—¶ï¼Œæ·»åŠ å¾®å°æ­£åˆ™åŒ–é¡¹(Îµ=1e-12)
- é˜²æ­¢é™¤é›¶é”™è¯¯å’Œæ•°å€¼æº¢å‡º

**å†…å­˜ä¼˜åŒ–ç­–ç•¥**ï¼š
- ä½¿ç”¨`numpy.memmap`å¤„ç†è¶…å¤§æ–‡ä»¶ï¼ˆ>1GBï¼‰
- åˆ†å—è¯»å–å’Œå¤„ç†ï¼Œé¿å…ä¸€æ¬¡æ€§åŠ è½½å…¨éƒ¨æ•°æ®

### 7.3 å·²çŸ¥é™åˆ¶ä¸æ³¨æ„äº‹é¡¹

**æ•°æ®é•¿åº¦è¦æ±‚**ï¼š
- æœ€å°æ•°æ®é•¿åº¦ï¼š1000 UIï¼ˆç½®ä¿¡åº¦<70%ï¼‰
- æ¨èæ•°æ®é•¿åº¦ï¼šâ‰¥10,000 UIï¼ˆç½®ä¿¡åº¦>95%ï¼‰
- æœ€ä¼˜æ•°æ®é•¿åº¦ï¼š100,000 UIï¼ˆç½®ä¿¡åº¦>99%ï¼‰

**é‡‡æ ·ç‡è¦æ±‚**ï¼š
- æœ€ä½é‡‡æ ·ç‡ï¼šâ‰¥2Ã—ä¿¡å·å¸¦å®½ï¼ˆå¥ˆå¥æ–¯ç‰¹å‡†åˆ™ï¼‰
- æ¨èé‡‡æ ·ç‡ï¼šâ‰¥4Ã—ä¿¡å·å¸¦å®½ï¼ˆæ¯UI 4ä¸ªé‡‡æ ·ç‚¹ï¼‰
- è¿‡é‡‡æ ·å¯æå‡ç›¸ä½ä¼°è®¡ç²¾åº¦ï¼Œä½†å¢åŠ è®¡ç®—å¼€é”€

**æ•°å€¼èŒƒå›´é™åˆ¶**ï¼š
- å¹…åº¦å€¼ï¼šå»ºè®®æ§åˆ¶åœ¨Â±2VèŒƒå›´å†…ï¼Œé¿å…æ•°å€¼æº¢å‡º
- æ—¶é—´æˆ³ï¼šå¿…é¡»ä¸¥æ ¼é€’å¢ï¼Œå…è®¸ä¸ç­‰é—´éš”
- UIå‚æ•°ï¼šå¿…é¡»å‡†ç¡®ï¼Œè¯¯å·®<0.1%ä»¥é¿å…ç›¸ä½ç´¯ç§¯é”™è¯¯

**å¹¶è¡Œå¤„ç†**ï¼š
- NumPyè‡ªåŠ¨ä½¿ç”¨å¤šçº¿ç¨‹ï¼ˆé€šè¿‡OpenMP/MKLï¼‰
- å¯é€šè¿‡`OMP_NUM_THREADS`ç¯å¢ƒå˜é‡æ§åˆ¶çº¿ç¨‹æ•°
- I/Oæ“ä½œï¼ˆæ–‡ä»¶è¯»å†™ï¼‰ä¸ºå•çº¿ç¨‹ï¼Œå¯èƒ½æˆä¸ºç“¶é¢ˆ

## 8. å‚è€ƒä¿¡æ¯

### 8.1 ç›¸å…³æ–‡ä»¶

| æ–‡ä»¶ç±»å‹ | è·¯å¾„ | è¯´æ˜ |
|---------|------|------|
| ä¸»æ¨¡å— | `scripts/eye_analyzer.py` | EyeAnalyzeræ ¸å¿ƒå®ç° |
| å‘½ä»¤è¡Œæ¥å£ | `scripts/analyze_eye.py` | CLIå…¥å£è„šæœ¬ |
| å•å…ƒæµ‹è¯• | `tests/unit/test_eye_analyzer.py` | pytestå•å…ƒæµ‹è¯•å¥—ä»¶ |
| æ€§èƒ½æµ‹è¯• | `tests/performance/test_eye_performance.py` | æ€§èƒ½åŸºå‡†æµ‹è¯• |
| æµ‹è¯•æ•°æ® | `tests/data/golden_*.dat` | Goldenå‚è€ƒæ•°æ®é›† |
| é…ç½®ç¤ºä¾‹ | `config/eye_default.json` | é»˜è®¤é…ç½®å‚æ•° |
| å¯è§†åŒ–è„šæœ¬ | `scripts/plot_eye_results.py` | ç»“æœç»˜å›¾å·¥å…· |
| æ‰¹å¤„ç†è„šæœ¬ | `scripts/batch_analyze.sh` | æ‰¹é‡å¤„ç†è„šæœ¬ |

### 8.2 ä¾èµ–é¡¹

**æ ¸å¿ƒä¾èµ–**ï¼š
| åº“åç§° | æœ€ä½ç‰ˆæœ¬ | ç”¨é€” |
|-------|---------|------|
| Python | 3.8 | è¿è¡Œç¯å¢ƒ |
| numpy | 1.21.0 | æ•°å€¼è®¡ç®—ã€æ•°ç»„æ“ä½œ |
| scipy | 1.7.0 | ç§‘å­¦è®¡ç®—ï¼ˆPSDã€PDFã€æ‹Ÿåˆï¼‰ |
| matplotlib | 3.5.0 | å¯è§†åŒ–ï¼ˆçœ¼å›¾ã€PSDã€PDFï¼‰ |

**å¯é€‰ä¾èµ–**ï¼š
| åº“åç§° | æœ€ä½ç‰ˆæœ¬ | ç”¨é€” |
|-------|---------|------|
| pandas | 1.3.0 | CSV/JSONé«˜çº§æ•°æ®å¤„ç† |
| pytest | 7.0.0 | æµ‹è¯•æ¡†æ¶ |
| memory-profiler | 0.60.0 | å†…å­˜ä½¿ç”¨åˆ†æ |
| cProfile | å†…ç½® | æ€§èƒ½å‰–æ |

**å·¥å…·å»ºè®®**ï¼š
- **Surfer**ï¼šmacOSå¹³å°æ³¢å½¢æŸ¥çœ‹ï¼ˆä½“éªŒæœ€ä½³ï¼‰
- **VS Code**ï¼šä»£ç ç¼–è¾‘å’Œè°ƒè¯•
- **PyCharm Professional**ï¼šPython IDEï¼ˆæ¨èï¼‰

### 8.3 é…ç½®ç¤ºä¾‹

**å®Œæ•´JSONé…ç½®ç¤ºä¾‹**ï¼š
```json
{
  "eye_analyzer": {
    "basic": {
      "ui_bins": 128,
      "amp_bins": 128,
      "measure_length": 2.5e-6,
      "target_ber": 1e-12,
      "ui": 2.5e-11
    },
    "advanced": {
      "hist2d_normalize": true,
      "psd_nperseg": 16384,
      "jitter_extract_method": "dual-dirac",
      "linearity_threshold": 0.1
    },
    "output": {
      "output_image_format": "png",
      "output_image_dpi": 300,
      "save_csv_data": false,
      "csv_data_path": "eye_analysis_data"
    },
    "sampling": {
      "strategy": "phase-lock",
      "phase_offset": 0.0
    }
  },
  "test_scenario": {
    "basic_eye_analysis": {
      "data_rate": 10e9,
      "prbs_type": "PRBS31",
      "noise_sigma": 0.005,
      "jitter_rj": 5e-12,
      "jitter_dj": 1e-11
    }
  }
}
```

**Pythoné…ç½®ä»£ç ç¤ºä¾‹**ï¼š
```python
# åŸºç¡€é…ç½®
config = {
    'ui_bins': 128,
    'amp_bins': 128,
    'measure_length': 2.5e-6,
    'target_ber': 1e-12,
    'ui': 2.5e-11,
    'sampling': 'phase-lock'
}

# é«˜çº§é…ç½®
config_advanced = {
    **config,
    'hist2d_normalize': True,
    'psd_nperseg': 16384,
    'jitter_extract_method': 'dual-dirac',
    'linearity_threshold': 0.1,
    'output_image_format': 'svg',
    'output_image_dpi': 300
}

# æµ‹è¯•åœºæ™¯é…ç½®
config_test = {
    **config_advanced,
    'data_rate': 10e9,
    'prbs_type': 'PRBS31',
    'noise_sigma': 0.005,
    'jitter_rj': 5e-12,
    'jitter_dj': 1e-11
}
```

**å‘½ä»¤è¡Œå‚æ•°ç¤ºä¾‹**ï¼š
```bash
# åŸºç¡€åˆ†æ
python scripts/analyze_eye.py \
  --dat results.dat \
  --ui 2.5e-11 \
  --ui-bins 128 \
  --amp-bins 128

# é«˜çº§åˆ†æ
python scripts/analyze_eye.py \
  --dat results.dat \
  --ui 2.5e-11 \
  --ui-bins 256 \
  --amp-bins 256 \
  --measure-length 5e-6 \
  --target-ber 1e-12 \
  --sampling phase-lock \
  --jitter-method dual-dirac \
  --output-format svg \
  --dpi 300 \
  --save-csv

# æ‰¹é‡å¤„ç†
python scripts/analyze_eye.py \
  --dat /data/*.dat \
  --ui 2.5e-11 \
  --batch \
  --output-dir ./results
```

---

**æ–‡æ¡£ç‰ˆæœ¬**ï¼šv1.0  
**æœ€åæ›´æ–°**ï¼š2026-01-23  
**ä½œè€…**ï¼šYizhe Liu
